!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=239)}([function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return u});var r=n(9);function i(t){if(void 0!==t.offsetX)return t.offsetX;if(void 0!==t.layerX)return t.layerX;if(void 0!==t.clientX)return t.clientX;throw new Error("sigma/captors/utils.getX: could not extract x from event.")}function o(t){if(void 0!==t.offsetY)return t.offsetY;if(void 0!==t.layerY)return t.layerY;if(void 0!==t.clientY)return t.clientY;throw new Error("sigma/captors/utils.getY: could not extract y from event.")}function a(t){var e=-1!==t.target.namespaceURI.indexOf("svg")?1:Object(r.c)();return{x:function(t){var e=t.target.ownerSVGElement?t.target.ownerSVGElement.width:t.target.width;if("number"==typeof e)return e;if(void 0!==e&&void 0!==e.baseVal)return e.baseVal.value;throw new Error("sigma/captors/utils.getWidth: could not extract width from event.")}(t)/(2*e),y:function(t){var e=t.target.ownerSVGElement?t.target.ownerSVGElement.height:t.target.height;if("number"==typeof e)return e;if(void 0!==e&&void 0!==e.baseVal)return e.baseVal.value;throw new Error("sigma/captors/utils.getHeight: could not extract height from event.")}(t)/(2*e)}}function s(t){return{x:i(t),y:o(t),clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,shiftKey:t.shiftKey}}function u(t){if(void 0!==t.wheelDelta)return t.wheelDelta/360;if(void 0!==t.detail)return t.detail/-9;throw new Error("sigma/captors/utils.getDelta: could not extract delta from event.")}},function(t,e){t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},function(t,e){t.exports=function(t){return null!==t&&"function"==typeof t&&"object"==typeof t.prototype&&"function"==typeof t.prototype.addUndirectedEdgeWithKey&&"function"==typeof t.prototype.dropNode}},function(t,e,n){var r=n(45),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"linear",function(){return o}),n.d(r,"quadraticIn",function(){return a}),n.d(r,"quadraticOut",function(){return s}),n.d(r,"quadraticInOut",function(){return u}),n.d(r,"cubicIn",function(){return d}),n.d(r,"cubicOut",function(){return h}),n.d(r,"cubicInOut",function(){return c});var i=n(8),o=function(t){return t},a=function(t){return t*t},s=function(t){return t*(2-t)},u=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},d=function(t){return t*t*t},h=function(t){return--t*t*t+1},c=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},f=n(26);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return m});var b={easing:"quadraticInOut",duration:150},m=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=g(this,y(e).call(this))).x=.5,t.y=.5,t.angle=0,t.ratio=1,t.nextFrame=null,t.previousState=t.getState(),t.enabled=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,i["EventEmitter"]),function(t,e,n){e&&p(t.prototype,e),n&&p(t,n)}(e,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"getPreviousState",value:function(){var t=this.previousState;return{x:t.x,y:t.y,angle:t.angle,ratio:t.ratio}}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"graphToViewport",value:function(t,e,n){var r=Math.min(t.width,t.height),i=r/t.width,o=r/t.height;return{x:(e-this.x+this.ratio/2/i)*(r/this.ratio),y:(this.y-n+this.ratio/2/o)*(r/this.ratio)}}},{key:"viewportToGraph",value:function(t,e,n){var r=Math.min(t.width,t.height),i=r/t.width,o=r/t.height;return{x:this.ratio/r*e+this.x-this.ratio/2/i,y:-(this.ratio/r*n-this.y-this.ratio/2/o)}}},{key:"viewRectangle",value:function(t){var e=0*t.width/8,n=0*t.height/8,r=this.viewportToGraph(t,0-e,0-n),i=this.viewportToGraph(t,t.width+e,0-n),o=this.viewportToGraph(t,0,t.height+n);return{x1:r.x,y1:r.y,x2:i.x,y2:i.y,height:i.y-o.y}}},{key:"setState",value:function(t){return this.enabled?(this.previousState=this.getState(),"x"in t&&(this.x=t.x),"y"in t&&(this.y=t.y),"angle"in t&&(this.angle=t.angle),"ratio"in t&&(this.ratio=t.ratio),this.emit("updated",this.getState()),this):this}},{key:"animate",value:function(t,e,n){var i=this;if(!this.enabled)return this;var o="function"==typeof(e=Object(f.a)({},b,e)).easing?e.easing:r[e.easing];this.nextFrame&&cancelAnimationFrame(this.nextFrame);var a=Date.now(),s=this.getState(),u=function r(){var u=(Date.now()-a)/e.duration;if(u>=1)return i.nextFrame=null,i.setState(t),void("function"==typeof n&&n());var d=o(u),h={};"x"in t&&(h.x=s.x+(t.x-s.x)*d),"y"in t&&(h.y=s.y+(t.y-s.y)*d),"angle"in t&&(h.angle=s.angle+(t.angle-s.angle)*d),"ratio"in t&&(h.ratio=s.ratio+(t.ratio-s.ratio)*d),i.setState(h),i.nextFrame=requestAnimationFrame(r)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.nextFrame=requestAnimationFrame(u)):u()}},{key:"animatedZoom",value:function(t){return t?"number"==typeof t?this.animate({ratio:this.ratio/t}):this.animate({ratio:this.ratio/(t.factor||1.5)},t):this.animate({ratio:this.ratio/1.5})}},{key:"animatedUnzoom",value:function(t){return t?"number"==typeof t?this.animate({ratio:this.ratio*t}):this.animate({ratio:this.ratio*(t.factor||1.5)},t):this.animate({ratio:1.5*this.ratio})}},{key:"animatedReset",value:function(t){return this.animate({x:.5,y:.5,ratio:1,angle:0},t)}}]),e}()},function(t,e,n){var r=n(98),i=n(103);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,d;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(d=n.slice()).length,u=0;u<a;u++)d[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){var n=document.createElement(t);if(!e)return n;for(var r in e)if("style"===r)for(var i in e[r])n.style[i]=e[r][i];else n.setAttribute(r,e[r]);return n}function o(){var t=window.screen;return void 0!==t.deviceXDPI&&void 0!==t.logicalXDPI&&t.deviceXDPI>t.logicalXDPI?t.systemXDPI/t.logicalXDPI:void 0!==window.devicePixelRatio?window.devicePixelRatio:1}function a(t){var e,n=r(t.x,2),i=n[0],o=n[1],a=r(t.y,2),s=a[0],u=a[1],d=Math.max(o-i,u-s);0===d&&(d=1);var h=(o+i)/2,c=(u+s)/2;return(e=function(t){return{x:.5+(t.x-h)/d,y:.5+(t.y-c)/d}}).applyTo=function(t){t.x=.5+(t.x-h)/d,t.y=.5+(t.y-c)/d},e.inverse=function(t){return{x:h+d*(t.x-.5),y:c+d*(t.y-.5)}},e.ratio=d,e}n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(31),i=n(99),o=n(100),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=e.GraphError=function(t){function e(n,o){r(this,e);var a=i(this,t.call(this));return a.name="GraphError",a.message=n||"",a.data=o||{},a}return o(e,t),e}(Error);e.InvalidArgumentsGraphError=function(t){function e(n,o){r(this,e);var a=i(this,t.call(this,n,o));return a.name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,e.prototype.constructor),a}return o(e,t),e}(a),e.NotFoundGraphError=function(t){function e(n,o){r(this,e);var a=i(this,t.call(this,n,o));return a.name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,e.prototype.constructor),a}return o(e,t),e}(a),e.UsageGraphError=function(t){function e(n,o){r(this,e);var a=i(this,t.call(this,n,o));return a.name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,e.prototype.constructor),a}return o(e,t),e}(a)},function(t,e,n){var r=n(177)();t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.assign=function(){for(var t=arguments[0]||{},e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t},e.getMatchingEdge=function(t,e,n,r){var i=t._nodes.get(e),o=null;if(!i)return o;o="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n];return o},e.isGraph=function(t){return null!==t&&"object"===(void 0===t?"undefined":r(t))&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode},e.isPlainObject=function(t){return"object"===(void 0===t?"undefined":r(t))&&null!==t&&t.constructor===Object},e.prettyPrint=function(t){for(var e=""+t,n="",r=0,i=e.length;r<i;r++){var o=i-r-1;n=e[o]+n,(r-2)%3||r===i-1||(n=","+n)}return n},e.privateProperty=function(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})},e.readOnlyProperty=function(t,e,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1);Object.defineProperty(t,e,r)},e.incrementalId=function(){var t=0;return function(){return"_geid"+t+++"_"}}},function(t,e){function n(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}n.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t},"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this}),n.of=function(){var t=arguments,e=t.length,r=0;return new n(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})},n.empty=function(){var t=new n(null);return t.done=!0,t},n.is=function(t){return t instanceof n||"object"==typeof t&&null!==t&&"function"==typeof t.next},t.exports=n},function(t,e,n){"use strict";function r(t,e){this.key=t,this.attributes=e||{},this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}function i(t,e){this.key=t,this.attributes=e||{},this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}Object.defineProperty(e,"__esModule",{value:!0}),e.MixedNodeData=function(t,e){this.key=t,this.attributes=e,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}},e.DirectedNodeData=r,e.UndirectedNodeData=i,e.DirectedEdgeData=function(t,e,n,r,i){this.key=t,this.attributes=i,this.source=n,this.target=r,this.generatedKey=e},e.UndirectedEdgeData=function(t,e,n,r,i){this.key=t,this.attributes=i,this.source=n,this.target=r,this.generatedKey=e},r.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},i.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}},function(t,e,n){var r=n(88),i=n(89),o=n(90),a=n(91),s=n(92);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(10);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(6)(Object,"create");t.exports=r},function(t,e,n){var r=n(112);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(30),i=n(53);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(55),i=n(37),o=n(152),a=n(169),s=i(function(t){return t.push(void 0,o),r(a,void 0,t)});t.exports=s},function(t,e){t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},function(t,e,n){var r=n(1);function i(t,e){if(!r(t))throw new Error("graphology-metrics/extent: the given graph is not a valid graphology instance.");var n,i,o,a,s,u,d,h=[].concat(e),c=t.nodes(),f={};for(s=0;s<h.length;s++)f[a=h[s]]=[1/0,-1/0];for(u=0,d=c.length;u<d;u++)for(n=c[u],i=t.getNodeAttributes(n),s=0;s<h.length;s++)(o=i[a=h[s]])<f[a][0]&&(f[a][0]=o),o>f[a][1]&&(f[a][1]=o);return"string"==typeof e?f[e]:f}var o=i;o.nodeExtent=i,o.edgeExtent=function(t,e){if(!r(t))throw new Error("graphology-metrics/extent: the given graph is not a valid graphology instance.");var n,i,o,a,s,u,d,h=[].concat(e),c=t.edges(),f={};for(s=0;s<h.length;s++)f[a=h[s]]=[1/0,-1/0];for(u=0,d=c.length;u<d;u++)for(n=c[u],i=t.getEdgeAttributes(n),s=0;s<h.length;s++)(o=i[a=h[s]])<f[a][0]&&(f[a][0]=o),o>f[a][1]&&(f[a][1]=o);return"string"==typeof e?f[e]:f},t.exports=o},function(t,e,n){"use strict";function r(t){t=t||{};for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n.length;i<o;i++)if(n[i])for(var a in n[i])t[a]=n[i][a];return t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return c});var r=n(5),i=n(72),o=n(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=function(e){function n(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?h(t):e}(this,u(n).call(this,t,e))).container=t,r.camera=e,r.enabled=!0,r.hasDragged=!1,r.downStartTime=null,r.lastMouseX=null,r.lastMouseY=null,r.isMouseDown=!1,r.isMoving=!1,r.movingTimeout=null,r.startCameraState=null,r.lastCameraState=null,r.clicks=0,r.doubleClickTimeout=null,r.wheelLock=!1,r.handleClick=r.handleClick.bind(h(h(r))),r.handleDown=r.handleDown.bind(h(h(r))),r.handleUp=r.handleUp.bind(h(h(r))),r.handleMove=r.handleMove.bind(h(h(r))),r.handleWheel=r.handleWheel.bind(h(h(r))),r.handleOut=r.handleOut.bind(h(h(r))),t.addEventListener("click",r.handleClick,!1),t.addEventListener("mousedown",r.handleDown,!1),t.addEventListener("mousemove",r.handleMove,!1),t.addEventListener("DOMMouseScroll",r.handleWheel,!1),t.addEventListener("mousewheel",r.handleWheel,!1),t.addEventListener("mouseout",r.handleOut,!1),document.addEventListener("mouseup",r.handleUp,!1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,i["a"]),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"kill",value:function(){var t=this.container;t.removeEventListener("click",this.handleClick),t.removeEventListener("mousedown",this.handleDown),t.removeEventListener("mousemove",this.handleMove),t.removeEventListener("DOMMouseScroll",this.handleWheel),t.removeEventListener("mousewheel",this.handleWheel),t.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(t){var e=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null,this.handleDoubleClick(t);setTimeout(function(){e.clicks=0,e.doubleClickTimeout=null},300),this.hasDragged||this.emit("click",Object(o.b)(t))}}},{key:"handleDoubleClick",value:function(t){if(this.enabled){var e=Object(o.a)(t),n=this.camera.getState(),i=n.ratio/2.2,a={width:this.container.offsetWidth,height:this.container.offsetHeight},s=Object(o.d)(t),u=Object(o.e)(t),d=new r.a;d.ratio=i,d.x=n.x,d.y=n.y;var h=this.camera.viewportToGraph(a,s,u),c=this.camera.viewportToGraph(a,e.x,e.y),f=d.viewportToGraph(a,s,u),l=d.viewportToGraph(a,e.x,e.y),p=f.x-l.x-h.x+c.x,g=f.y-l.y-h.y+c.y;return this.camera.animate({x:n.x-p,y:n.y-g,ratio:i},{easing:"quadraticInOut",duration:200}),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}}},{key:"handleDown",value:function(t){this.enabled&&(this.startCameraState=this.camera.getState(),this.lastCameraState=this.startCameraState,this.lastMouseX=Object(o.d)(t),this.lastMouseY=Object(o.e)(t),this.hasDragged=!1,this.downStartTime=Date.now(),t.which,this.isMouseDown=!0,this.emit("mousedown",Object(o.b)(t)))}},{key:"handleUp",value:function(e){var n=this;if(this.enabled&&this.isMouseDown){this.isMouseDown=!1,this.movingTimeout&&(this.movingTimeout=null,clearTimeout(this.movingTimeout));var r=Object(o.d)(e),i=Object(o.e)(e),a=this.camera.getState(),s=this.camera.getPreviousState();this.isMoving?this.camera.animate({x:a.x+3*(a.x-s.x),y:a.y+3*(a.y-s.y)},{duration:200,easing:"quadraticOut"}):this.lastMouseX===r&&this.lastMouseY===i||this.camera.setState({x:a.x,y:a.y}),this.isMoving=!1,t(function(){return n.hasDragged=!1}),this.emit("mouseup",Object(o.b)(e))}}},{key:"handleMove",value:function(t){var e=this;if(this.enabled){if(this.emit("mousemove",Object(o.b)(t)),this.isMouseDown){this.isMoving=!0,this.hasDragged=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=setTimeout(function(){e.movingTimeout=null,e.isMoving=!1},200);var n={width:this.container.offsetWidth,height:this.container.offsetHeight},r=Object(o.d)(t),i=Object(o.e)(t),a=this.camera.viewportToGraph(n,this.lastMouseX,this.lastMouseY),s=this.camera.viewportToGraph(n,r,i),u=a.x-s.x,d=a.y-s.y,h=this.camera.getState(),c=h.x+u,f=h.y+d;this.camera.setState({x:c,y:f}),this.lastMouseX=r,this.lastMouseY=i}return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}}},{key:"handleWheel",value:function(t){var e=this;if(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!this.enabled)return!1;var n=Object(o.c)(t);if(!n)return!1;if(this.wheelLock)return!1;this.wheelLock=!0;var i=n>0?1/1.7:1.7,a=this.camera.getState(),s=i*a.ratio,u=Object(o.a)(t),d={width:this.container.offsetWidth,height:this.container.offsetHeight},h=Object(o.d)(t),c=Object(o.e)(t),f=new r.a;f.ratio=s,f.x=a.x,f.y=a.y;var l=this.camera.viewportToGraph(d,h,c),p=this.camera.viewportToGraph(d,u.x,u.y),g=f.viewportToGraph(d,h,c),y=f.viewportToGraph(d,u.x,u.y),v=g.x-y.x-l.x+p.x,b=g.y-y.y-l.y+p.y;return this.camera.animate({x:a.x-v,y:a.y-b,ratio:s},{easing:"linear",duration:200},function(){return e.wheelLock=!1}),!1}},{key:"handleOut",value:function(){}}]),n}()}).call(this,n(236).setImmediate)},function(t,e){t.exports=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0;;){if(o===r)return i;if((n=t.next()).done)return o!==e?i.slice(0,o):i;i[o++]=n.value}}},function(t,e,n){var r=n(6)(n(3),"Map");t.exports=r},function(t,e,n){var r=n(11),i=n(4),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e,n){var r=n(3).Symbol;t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t){var r=n(3),i=n(134),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(34)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(135),i=n(136),o=n(137),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(56),i=n(147),o=n(148);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(57);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(50),i=n(167),o=n(22);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(10),i=n(22),o=n(52),a=n(4);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e){t.exports=function(t,e){var n,r,i,o;if(0!==e.length)for(t.mergeNode(e[0]),i=1,o=e.length;i<o;i++)n=e[i-1],r=e[i],t.mergeEdge(n,r)}},function(t,e,n){"use strict";var r=n(14),i=function(t){return t&&t.__esModule?t:{default:t}}(n(77)),o=n(12);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(n){return a(this,e),s(this,t.call(this,(0,r.assign)({type:"directed"},n)))}return u(e,t),e}(i.default),h=function(t){function e(n){return a(this,e),s(this,t.call(this,(0,r.assign)({type:"undirected"},n)))}return u(e,t),e}(i.default),c=function(t){function e(n){return a(this,e),s(this,t.call(this,(0,r.assign)({multi:!0,type:"directed"},n)))}return u(e,t),e}(i.default),f=function(t){function e(n){return a(this,e),s(this,t.call(this,(0,r.assign)({multi:!0,type:"undirected"},n)))}return u(e,t),e}(i.default);function l(t){t.from=function(e,n){var r=new t(n);return r.import(e),r}}l(i.default),l(d),l(h),l(c),l(f),i.default.Graph=i.default,i.default.DirectedGraph=d,i.default.UndirectedGraph=h,i.default.MultiDirectedGraph=c,i.default.MultiUndirectedGraph=f,i.default.InvalidArgumentsGraphError=o.InvalidArgumentsGraphError,i.default.NotFoundGraphError=o.NotFoundGraphError,i.default.UsageGraphError=o.UsageGraphError,t.exports=i.default},function(t,e,n){var r=n(15);t.exports=function(){var t,e=arguments,n=-1;return new r(function r(){if(!t){if(++n>=e.length)return{done:!0};t=e[n]}var i=t.next();return i.done?(t=null,r()):i})}},function(t,e,n){var r=n(17),i=n(93),o=n(94),a=n(95),s=n(96),u=n(97);function d(t){var e=this.__data__=new r(t);this.size=e.size}d.prototype.clear=i,d.prototype.delete=o,d.prototype.get=a,d.prototype.has=s,d.prototype.set=u,t.exports=d},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(32))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(104),i=n(111),o=n(113),a=n(114),s=n(115);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(116),i=n(119),o=n(120),a=1,s=2;t.exports=function(t,e,n,u,d,h){var c=n&a,f=t.length,l=e.length;if(f!=l&&!(c&&l>f))return!1;var p=h.get(t);if(p&&h.get(e))return p==e;var g=-1,y=!0,v=n&s?new r:void 0;for(h.set(t,e),h.set(e,t);++g<f;){var b=t[g],m=e[g];if(u)var w=c?u(m,b,g,e,t,h):u(b,m,g,t,e,h);if(void 0!==w){if(w)continue;y=!1;break}if(v){if(!i(e,function(t,e){if(!o(v,e)&&(b===t||d(b,t,n,u,h)))return v.push(e)})){y=!1;break}}else if(b!==m&&!d(b,m,n,u,h)){y=!1;break}}return h.delete(t),h.delete(e),y}},function(t,e,n){var r=n(3).Uint8Array;t.exports=r},function(t,e,n){var r=n(132),i=n(51),o=n(21),a=n(33),s=n(52),u=n(35),d=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),h=!n&&i(t),c=!n&&!h&&a(t),f=!n&&!h&&!c&&u(t),l=n||h||c||f,p=l?r(t.length,String):[],g=p.length;for(var y in t)!e&&!d.call(t,y)||l&&("length"==y||c&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,g))||p.push(y);return p}},function(t,e,n){var r=n(133),i=n(7),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(6),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(44),i=n(59),o=n(153),a=n(155),s=n(4),u=n(39),d=n(61);t.exports=function t(e,n,h,c,f){e!==n&&o(n,function(o,u){if(s(o))f||(f=new r),a(e,n,u,h,t,c,f);else{var l=c?c(d(e,u),o,u+"",e,n,f):void 0;void 0===l&&(l=o),i(e,u,l)}},u)}},function(t,e,n){var r=n(38),i=n(10);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(54)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e,n){var r=n(63);function i(t,e,n,r){for(var i=0;i<r;i++)t[i]=e[n[i]]}t.exports=function(t,e){if(!Array.isArray(t))throw new Error("obliterator/combinations: first argument should be an array.");var n=t.length;if("number"!=typeof e)throw new Error("obliterator/combinations: second argument should be omitted or a number.");if(e>n)throw new Error("obliterator/combinations: the size of the subsequences should not exceed the length of the array.");if(e===n)return r.of(t.slice());var o,a=new Array(e),s=new Array(e),u=!0;for(o=0;o<e;o++)a[o]=o;return new r(function(){if(u)return u=!1,i(s,t,a,e),{value:s};if(a[e-1]++<n-1)return i(s,t,a,e),{value:s};for(o=e-2;o>=0&&a[o]>=n-(e-o);)--o;if(o<0)return{done:!0};for(a[o]++;++o<e;)a[o]=a[o-1]+1;return i(s,t,a,e),{value:s}})}},function(t,e){function n(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}n.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t},"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this}),n.of=function(){var t=arguments,e=t.length,r=0;return new n(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})},n.empty=function(){var t=new n(null);return t.done=!0,t},n.is=function(t){return t instanceof n||"object"==typeof t&&null!==t&&"function"==typeof t.next},t.exports=n},function(t,e,n){var r=n(1);function i(t,e){return 2*e/(t*(t-1))}function o(t,e){return e/(t*(t-1))}function a(t,e){var n=t*(t-1);return e/(n+n/2)}function s(t,e,n){var s,u;if(arguments.length>3){if(s=n,u=arguments[3],"number"!=typeof s)throw new Error("graphology-metrics/density: given order is not a number.");if("number"!=typeof u)throw new Error("graphology-metrics/density: given size is not a number.")}else{if(!r(n))throw new Error("graphology-metrics/density: given graph is not a valid graphology instance.");s=n.order,u=n.size,n.multi&&!1===e&&(u=function(t){var e,n,r=t.nodes(),i=0;for(e=0,n=r.length;e<n;e++)i+=t.outNeighbors(r[e]).length,i+=t.undirectedNeighbors(r[e]).length/2;return i}(n))}return null===t&&(t=n.type),null===e&&(e=n.multi),("undirected"===t?i:"directed"===t?o:a)(s,u)}var u=s.bind(null,null,null);u.directedDensity=s.bind(null,"directed",!1),u.undirectedDensity=s.bind(null,"undirected",!1),u.mixedDensity=s.bind(null,"mixed",!1),u.multiDirectedDensity=s.bind(null,"directed",!0),u.multiUndirectedDensity=s.bind(null,"undirected",!0),u.multiMixedDensity=s.bind(null,"mixed",!0),t.exports=u},function(t,e){t.exports=function(t,e){if(0!==e.length){var n,r,i,o=e[0];for(t.mergeNode(o),r=1,i=e.length;r<i;r++)n=e[r],t.mergeEdge(o,n)}}},function(t,e,n){var r=n(1),i=n(208);function o(t,e,n){if(!r(t))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!t.hasNode(e))throw new Error('graphology-shortest-path: the "'+e+'" source node does not exist in the given graph.');if(!t.hasNode(n))throw new Error('graphology-shortest-path: the "'+n+'" target node does not exist in the given graph.');if((e=""+e)===(n=""+n))return[e];var i,o;"mixed"===t.type?(i=function(e){var n=t.inNeighbors(e);return n.push.apply(n,t.undirectedNeighbors(e)),n},o=function(e){var n=t.outNeighbors(e);return n.push.apply(n,t.undirectedNeighbors(e)),n}):"directed"===t.type?(i=t.inNeighbors.bind(t),o=t.outNeighbors.bind(t)):i=o=t.neighbors.bind(t);var a={},s={};a[e]=null,s[n]=null;var u,d,h,c,f,l,p,g,y=[e],v=[n];t:for(;y.length&&v.length;)if(y.length<=v.length){for(u=y,y=[],f=0,p=u.length;f<p;f++)for(l=0,g=(h=o(d=u[f])).length;l<g;l++)if(a[c=h[l]]||(y.push(c),a[c]=d),s[c])break t}else for(u=v,v=[],f=0,p=u.length;f<p;f++)for(l=0,g=(h=i(d=u[f])).length;l<g;l++)if(s[c=h[l]]||(v.push(c),s[c]=d),a[c])break t;for(var b=[];c;)b.unshift(c),c=a[c];for(c=s[b[b.length-1]];c;)b.push(c),c=s[c];return b.length?b:null}function a(t,e){if(!r(t))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!t.hasNode(e))throw new Error('graphology-shortest-path: the "'+e+'" source node does not exist in the given graph.');var n,i,o,a,s,u,d={},h={};for(d[e=""+e]=!0,h[e]=[e];Object.keys(d).length;)for(o in n=d,d={},n)for((i=t.outNeighbors(o)).push.apply(i,t.undirectedNeighbors(o)),s=0,u=i.length;s<u;s++)h[a=i[s]]||(h[a]=h[o].concat(a),d[a]=!0);return h}function s(t,e,n){return arguments.length<3?a(t,e):o(t,e,n)}s.bidirectional=o,s.singleSource=a,s.brandes=function(t,e){e=""+e;var n,r,o,a,s,u,d,h,c,f=[],l={},p={},g=t.nodes();for(u=0,h=g.length;u<h;u++)l[a=g[u]]=[],p[a]=0;var y={};p[e]=1,y[e]=0;for(var v=i.of(e);v.size;)for(a=v.dequeue(),f.push(a),n=y[a],r=p[a],d=0,c=(o=t.undirectedNeighbors(a).concat(t.outNeighbors(a))).length;d<c;d++)(s=o[d])in y||(v.enqueue(s),y[s]=n+1),y[s]===n+1&&(p[s]+=r,l[s].push(a));return[f,l,p]},t.exports=s},function(t,e,n){var r=n(209).isTypedArray;function i(t,e){var n,r,o,a,s;if(i.isArrayLike(t)||"string"==typeof t||"[object Arguments]"===t.toString())for(o=0,a=t.length;o<a;o++)e(t[o],o);else if("function"!=typeof t.forEach)if("undefined"!=typeof Symbol&&Symbol.iterator in t&&(t=t[Symbol.iterator]()),"function"!=typeof t.next)for(r in t)t.hasOwnProperty(r)&&e(t[r],r);else for(n=t,o=0;!(s=n.next()).done;)e(s.value,o),o++;else t.forEach(e)}i.guessLength=function(t){return"number"==typeof t.length?t.length:"number"==typeof t.size?t.size:void 0},i.isArrayLike=function(t){return Array.isArray(t)||r(t)},t.exports=i},function(t,e,n){var r=n(1),i=n(210),o={weightAttribute:"weight"};function a(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1]>e[1]?1:t[1]<e[1]?-1:t[2]>e[2]?1:t[2]<e[2]?-1:0}function s(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1]>e[1]?1:t[1]<e[1]?-1:t[2]>e[2]?1:t[2]<e[2]?-1:t[3]>e[3]?1:t[3]<e[3]?-1:0}var u=[function(t,e){return t.undirectedEdges(e).concat(t.outEdges(e))},function(t,e){return t.undirectedEdges(e).concat(t.inEdges(e))}];t.exports={bidirectional:function(t,e,n,s){return function(t,e,n,s){if(e=""+e,n=""+n,!r(t))throw new Error("graphology-shortest-path/dijkstra: invalid graphology instance.");if(e&&!t.hasNode(e))throw new Error('graphology-shortest-path/dijkstra: the "'+e+'" source node does not exist in the given graph.');if(n&&!t.hasNode(n))throw new Error('graphology-shortest-path/dijkstra: the "'+n+'" target node does not exist in the given graph.');s=s||o.weightAttribute;var d=function(e){return t.getEdgeAttribute(e,s)};if(e===n)return[0,[e]];var h=[{},{}],c=[{},{}],f=[new i(a),new i(a)],l=[{},{}];c[0][e]=[e],c[1][n]=[n],l[0][e]=0,l[1][n]=0;var p,g,y,v,b,m,w,E,_,x,N=1/0,D=0,O=1;for(f[0].push([0,D++,e]),f[1].push([0,D++,n]);f[0].size&&f[1].size;)if(b=(g=f[O=1-O].pop())[0],!((m=g[2])in h[O])){if(h[O][m]=b,m in h[1-O])return[N,p];for(_=0,x=(y=u[O](t,m)).length;_<x;_++){if(E=y[_],w=t.opposite(m,E),v=h[O][m]+d(E),w in h[O]&&v<h[O][w])throw Error("graphology-shortest-path/dijkstra: contradictory paths found. Do some of your edges have a negative weight?");w in l[O]&&!(v<l[O][w])||(l[O][w]=v,f[O].push([v,D++,w]),c[O][w]=c[O][m].concat(w),w in l[0]&&w in l[1]&&(b=l[0][w]+l[1][w],(!N||N>b)&&(N=b,p=c[0][w].concat(c[1][w].slice(0,-1).reverse()))))}}return[1/0,null]}(t,e,n,s)[1]},singleSource:function(t,e,n){var s={};return function(t,e,n,s,u,d){if(!r(t))throw new Error("graphology-shortest-path/dijkstra: invalid graphology instance.");if(u&&!t.hasNode(u))throw new Error('graphology-shortest-path/dijkstra: the "'+u+'" target node does not exist in the given graph.');n=n||o.weightAttribute;var h,c,f,l,p,g,y,v,b,m,w,E=function(e){return t.getEdgeAttribute(e,n)},_={},x={},N=new i(a),D=0;for(v=0,m=e.length;v<m;v++)x[l=e[v]]=0,N.push([0,D++,l]),d&&(d[l]=[l]);for(;N.size;)if(y=(c=N.pop())[0],!((l=c[2])in _)){if(_[l]=y,l===u)break;for(b=0,w=(h=t.undirectedEdges(l).concat(t.outEdges(l))).length;b<w;b++)if(g=h[b],p=t.opposite(l,g),f=E(g)+_[l],!(s&&f>s)){if(p in _&&f<_[p])throw Error("graphology-shortest-path/dijkstra: contradictory paths found. Do some of your edges have a negative weight?");p in x&&!(f<x[p])||(x[p]=f,N.push([f,D++,p]),d&&(d[p]=d[l].concat(p)))}}}(t,[e],n,0,null,s),s},brandes:function(t,e,n){e=""+e,n=n||o.weightAttribute;var r,a,u,d,h,c,f,l,p,g,y=[],v={},b={},m=t.nodes();for(p=0,g=m.length;p<g;p++)v[c=m[p]]=[],b[c]=0;var w={};b[e]=1;var E={};E[e]=0;var _=0,x=new i(s);for(x.push([0,_++,e,e]);x.size;)if(d=(a=x.pop())[0],u=a[2],!((c=a[3])in w))for(b[c]+=b[u],y.push(c),w[c]=d,p=0,g=(r=t.undirectedEdges(c).concat(t.outEdges(c))).length;p<g;p++)l=r[p],f=t.opposite(c,l),h=d+(t.getEdgeAttribute(l,n)||1),f in w||f in E&&!(h<E[f])?h===E[f]&&(b[f]+=b[c],v[f].push(c)):(E[f]=h,x.push([h,_++,c,f]),b[f]=0,v[f]=[c]);return[y,v,b]}}},function(t,e,n){var r=n(37),i=n(10),o=n(40),a=n(39),s=Object.prototype,u=s.hasOwnProperty,d=r(function(t,e){t=Object(t);var n=-1,r=e.length,d=r>2?e[2]:void 0;for(d&&o(e[0],e[1],d)&&(r=1);++n<r;)for(var h=e[n],c=a(h),f=-1,l=c.length;++f<l;){var p=c[f],g=t[p];(void 0===g||i(g,s[p])&&!u.call(t,p))&&(t[p]=h[p])}return t});t.exports=d},function(t,e,n){e.assertions=n(83),e.communitiesLouvain=n(145),e.components=n(171),e.generators=n(173),e.hits=n(194),e.layout=n(196),e.layoutForceAtlas2=n(199),e.metrics=n(204),e.operators=n(216),e.pagerank=n(220),e.shortestPath=n(222),e.utils=n(224),e.FA2Layout=n(228),e.gexf=n(229)},function(t,e){t.exports=function(t,e){var n=t.length,r=e.length;if(0!==r){t.length+=e.length;for(var i=0;i<r;i++)t[n+i]=e[i]}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(8);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=o(this,a(e).call(this))).container=t,r.camera=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["EventEmitter"]),e}()},function(t,e){t.exports="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\n\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},function(t,e){t.exports="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\n\nvoid main(void) {\n  vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  // gl_FragColor = mix(color0, v_color, t);\n  gl_FragColor = mix(color0, v_color, t);\n}\n"},function(t,e){t.exports="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_thickness;\nattribute vec4 a_color;\n\nuniform vec2 u_resolution;\nuniform float u_ratio;\nuniform mat3 u_matrix;\nuniform float u_scale;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float min_thickness = 1.8;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n\n  // Computing thickness in pixels\n  float pow_ratio = 1.0 / pow(u_ratio, 0.5);\n  float thickness = a_thickness * pow_ratio / u_scale;\n\n  // Min thickness for AA\n  thickness = max(min_thickness, thickness);\n\n  // Computing delta relative to viewport\n  vec2 delta = (a_normal * thickness) / u_resolution;\n\n  vec2 position = (u_matrix * vec3(a_position, 1)).xy;\n  position += delta;\n\n  // Applying\n  gl_Position = vec4(position, 0, 1);\n\n  v_normal = a_normal;\n  v_thickness = thickness;\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},function(t,e){t.exports="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 2.6;\nconst vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, color0, t);\n}\n"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),i=p(n(15)),o=p(n(28)),a=n(12),s=n(16),u=n(78),d=n(79),h=n(80),c=n(81),f=n(82),l=n(14);function p(t){return t&&t.__esModule?t:{default:t}}var g=new Set(["directed","undirected","mixed"]),y=new Set(["domain","_events","_eventsCount","_maxListeners"]),v={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"};function b(t,e,n,r,i,o,d,h){if(!r&&"undirected"===t.type)throw new a.UsageGraphError("Graph."+e+": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.");if(r&&"directed"===t.type)throw new a.UsageGraphError("Graph."+e+": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.");if(h&&!(0,l.isPlainObject)(h))throw new a.InvalidArgumentsGraphError("Graph."+e+': invalid attributes. Expecting an object but got "'+h+'"');if(o=""+o,d=""+d,h=h||{},!t.allowSelfLoops&&o===d)throw new a.UsageGraphError("Graph."+e+': source & target are the same ("'+o+"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.");var c=t._nodes.get(o),f=t._nodes.get(d);if(!c)throw new a.NotFoundGraphError("Graph."+e+': source node "'+o+'" not found.');if(!f)throw new a.NotFoundGraphError("Graph."+e+': target node "'+d+'" not found.');var p={key:null,undirected:r,source:o,target:d,attributes:h};if(n&&(i=t._edgeKeyGenerator(p)),i=""+i,t._edges.has(i))throw new a.UsageGraphError("Graph."+e+': the "'+i+'" edge already exists in the graph.');if(!t.multi&&(r?void 0!==c.undirected[d]:void 0!==c.out[d]))throw new a.UsageGraphError("Graph."+e+': an edge linking "'+o+'" to "'+d+"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.");var g=new(r?s.UndirectedEdgeData:s.DirectedEdgeData)(i,n,c,f,h);return t._edges.set(i,g),o===d?r?c.undirectedSelfLoops++:c.directedSelfLoops++:r?(c.undirectedDegree++,f.undirectedDegree++):(c.outDegree++,f.inDegree++),(0,u.updateStructureIndex)(t,r,g,o,d,c,f),r?t._undirectedSize++:t._directedSize++,p.key=i,t.emit("edgeAdded",p),i}function m(t,e,n,r,i,o,d,h){if(!r&&"undirected"===t.type)throw new a.UsageGraphError("Graph."+e+": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.");if(r&&"directed"===t.type)throw new a.UsageGraphError("Graph."+e+": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.");if(h&&!(0,l.isPlainObject)(h))throw new a.InvalidArgumentsGraphError("Graph."+e+': invalid attributes. Expecting an object but got "'+h+'"');if(o=""+o,d=""+d,h=h||{},!t.allowSelfLoops&&o===d)throw new a.UsageGraphError("Graph."+e+': source & target are the same ("'+o+"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.");var c=t._nodes.get(o),f=t._nodes.get(d),p=void 0,g=null;if(!n&&(p=t._edges.get(i))){if(p.source!==o||p.target!==d||r&&(p.source!==d||p.target!==o))throw new a.UsageGraphError("Graph."+e+': inconsistency detected when attempting to merge the "'+i+'" edge with "'+o+'" source & "'+d+'" target vs. ('+p.source+", "+p.target+").");g=i}var y=void 0;if(g||t.multi||!c||(r?void 0===c.undirected[d]:void 0===c.out[d])||(y=(0,l.getMatchingEdge)(t,o,d,r?"undirected":"directed")),y)return h?((0,l.assign)(y.attributes,h),g):g;var v={key:null,undirected:r,source:o,target:d,attributes:h};if(n&&(i=t._edgeKeyGenerator(v)),i=""+i,t._edges.has(i))throw new a.UsageGraphError("Graph."+e+': the "'+i+'" edge already exists in the graph.');return c||(t.addNode(o),c=t._nodes.get(o)),f||(t.addNode(d),f=t._nodes.get(d)),p=new(r?s.UndirectedEdgeData:s.DirectedEdgeData)(i,n,c,f,h),t._edges.set(i,p),o===d?r?c.undirectedSelfLoops++:c.directedSelfLoops++:r?(c.undirectedDegree++,f.undirectedDegree++):(c.outDegree++,f.inDegree++),(0,u.updateStructureIndex)(t,r,p,o,d,c,f),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit("edgeAdded",v),i}var w=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));if((n=(0,l.assign)({},v,n)).edgeKeyGenerator&&"function"!=typeof n.edgeKeyGenerator)throw new a.InvalidArgumentsGraphError("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \""+n.edgeKeyGenerator+'".');if("boolean"!=typeof n.multi)throw new a.InvalidArgumentsGraphError("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \""+n.multi+'".');if(!g.has(n.type))throw new a.InvalidArgumentsGraphError('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'+n.type+'".');if("boolean"!=typeof n.allowSelfLoops)throw new a.InvalidArgumentsGraphError("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \""+n.allowSelfLoops+'".');var i="mixed"===n.type?s.MixedNodeData:"directed"===n.type?s.DirectedNodeData:s.UndirectedNodeData;return(0,l.privateProperty)(r,"NodeDataClass",i),(0,l.privateProperty)(r,"_attributes",{}),(0,l.privateProperty)(r,"_nodes",new Map),(0,l.privateProperty)(r,"_edges",new Map),(0,l.privateProperty)(r,"_directedSize",0),(0,l.privateProperty)(r,"_undirectedSize",0),(0,l.privateProperty)(r,"_edgeKeyGenerator",n.edgeKeyGenerator||(0,l.incrementalId)()),(0,l.privateProperty)(r,"_options",n),y.forEach(function(t){return(0,l.privateProperty)(r,t,r[t])}),(0,l.readOnlyProperty)(r,"order",function(){return r._nodes.size}),(0,l.readOnlyProperty)(r,"size",function(){return r._edges.size}),(0,l.readOnlyProperty)(r,"directedSize",function(){return r._directedSize}),(0,l.readOnlyProperty)(r,"undirectedSize",function(){return r._undirectedSize}),(0,l.readOnlyProperty)(r,"multi",r._options.multi),(0,l.readOnlyProperty)(r,"type",r._options.type),(0,l.readOnlyProperty)(r,"allowSelfLoops",r._options.allowSelfLoops),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.hasNode=function(t){return this._nodes.has(""+t)},e.prototype.hasDirectedEdge=function(t,e){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+t,r=this._edges.get(n);return!!r&&r instanceof s.DirectedEdgeData}if(2===arguments.length){t=""+t,e=""+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.out[e];return!!o&&(!this.multi||!!o.size)}throw new a.InvalidArgumentsGraphError("Graph.hasDirectedEdge: invalid arity ("+arguments.length+", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.")},e.prototype.hasUndirectedEdge=function(t,e){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+t,r=this._edges.get(n);return!!r&&r instanceof s.UndirectedEdgeData}if(2===arguments.length){t=""+t,e=""+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.undirected[e];return!!o&&(!this.multi||!!o.size)}throw new a.InvalidArgumentsGraphError("Graph.hasDirectedEdge: invalid arity ("+arguments.length+", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.")},e.prototype.hasEdge=function(t,e){if(1===arguments.length){var n=""+t;return this._edges.has(n)}if(2===arguments.length){t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)return!1;var i=void 0!==r.out&&r.out[e];return i||(i=void 0!==r.undirected&&r.undirected[e]),!!i&&(!this.multi||!!i.size)}throw new a.InvalidArgumentsGraphError("Graph.hasEdge: invalid arity ("+arguments.length+", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.")},e.prototype.directedEdge=function(t,e){if("undirected"!==this.type){if(t=""+t,e=""+e,this.multi)throw new a.UsageGraphError("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.directedEdge: could not find the "'+t+'" source node in the graph.');if(!this._nodes.has(e))throw new a.NotFoundGraphError('Graph.directedEdge: could not find the "'+e+'" target node in the graph.');var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},e.prototype.undirectedEdge=function(t,e){if("directed"!==this.type){if(t=""+t,e=""+e,this.multi)throw new a.UsageGraphError("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.undirectedEdge: could not find the "'+t+'" source node in the graph.');if(!this._nodes.has(e))throw new a.NotFoundGraphError('Graph.undirectedEdge: could not find the "'+e+'" target node in the graph.');var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},e.prototype.edge=function(t,e){if(this.multi)throw new a.UsageGraphError("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.edge: could not find the "'+t+'" source node in the graph.');if(!this._nodes.has(e))throw new a.NotFoundGraphError('Graph.edge: could not find the "'+e+'" target node in the graph.');var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},e.prototype.inDegree=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof e)throw new a.InvalidArgumentsGraphError('Graph.inDegree: Expecting a boolean but got "'+e+'" for the second parameter (allowing self-loops to be counted).');t=""+t;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.inDegree: could not find the "'+t+'" node in the graph.');if("undirected"===this.type)return 0;var r=e?n.directedSelfLoops:0;return n.inDegree+r},e.prototype.outDegree=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof e)throw new a.InvalidArgumentsGraphError('Graph.outDegree: Expecting a boolean but got "'+e+'" for the second parameter (allowing self-loops to be counted).');t=""+t;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.outDegree: could not find the "'+t+'" node in the graph.');if("undirected"===this.type)return 0;var r=e?n.directedSelfLoops:0;return n.outDegree+r},e.prototype.directedDegree=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof e)throw new a.InvalidArgumentsGraphError('Graph.directedDegree: Expecting a boolean but got "'+e+'" for the second parameter (allowing self-loops to be counted).');if(t=""+t,!this.hasNode(t))throw new a.NotFoundGraphError('Graph.directedDegree: could not find the "'+t+'" node in the graph.');return"undirected"===this.type?0:this.inDegree(t,e)+this.outDegree(t,e)},e.prototype.undirectedDegree=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof e)throw new a.InvalidArgumentsGraphError('Graph.undirectedDegree: Expecting a boolean but got "'+e+'" for the second parameter (allowing self-loops to be counted).');if(t=""+t,!this.hasNode(t))throw new a.NotFoundGraphError('Graph.undirectedDegree: could not find the "'+t+'" node in the graph.');if("directed"===this.type)return 0;var n=this._nodes.get(t),r=e?2*n.undirectedSelfLoops:0;return n.undirectedDegree+r},e.prototype.degree=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof e)throw new a.InvalidArgumentsGraphError('Graph.degree: Expecting a boolean but got "'+e+'" for the second parameter (allowing self-loops to be counted).');if(t=""+t,!this.hasNode(t))throw new a.NotFoundGraphError('Graph.degree: could not find the "'+t+'" node in the graph.');var n=0;return"undirected"!==this.type&&(n+=this.directedDegree(t,e)),"directed"!==this.type&&(n+=this.undirectedDegree(t,e)),n},e.prototype.source=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new a.NotFoundGraphError('Graph.source: could not find the "'+t+'" edge in the graph.');return e.source.key},e.prototype.target=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new a.NotFoundGraphError('Graph.target: could not find the "'+t+'" edge in the graph.');return e.target.key},e.prototype.extremities=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new a.NotFoundGraphError('Graph.extremities: could not find the "'+t+'" edge in the graph.');return[e.source.key,e.target.key]},e.prototype.opposite=function(t,e){if(t=""+t,e=""+e,!this._nodes.has(t))throw new a.NotFoundGraphError('Graph.opposite: could not find the "'+t+'" node in the graph.');var n=this._edges.get(e);if(!n)throw new a.NotFoundGraphError('Graph.opposite: could not find the "'+e+'" edge in the graph.');var r=n.source,i=n.target,o=r.key,s=i.key;if(t!==o&&t!==s)throw new a.NotFoundGraphError('Graph.opposite: the "'+t+'" node is not attached to the "'+e+'" edge ('+o+", "+s+").");return t===o?s:o},e.prototype.undirected=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new a.NotFoundGraphError('Graph.undirected: could not find the "'+t+'" edge in the graph.');return e instanceof s.UndirectedEdgeData},e.prototype.directed=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new a.NotFoundGraphError('Graph.directed: could not find the "'+t+'" edge in the graph.');return e instanceof s.DirectedEdgeData},e.prototype.selfLoop=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new a.NotFoundGraphError('Graph.selfLoop: could not find the "'+t+'" edge in the graph.');return e.source===e.target},e.prototype.addNode=function(t,e){if(e&&!(0,l.isPlainObject)(e))throw new a.InvalidArgumentsGraphError('Graph.addNode: invalid attributes. Expecting an object but got "'+e+'"');if(t=""+t,e=e||{},this._nodes.has(t))throw new a.UsageGraphError('Graph.addNode: the "'+t+'" node already exist in the graph.');var n=new this.NodeDataClass(t,e);return this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:e}),t},e.prototype.mergeNode=function(t,e){if(e&&!(0,l.isPlainObject)(e))throw new a.InvalidArgumentsGraphError('Graph.mergeNode: invalid attributes. Expecting an object but got "'+e+'"');t=""+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(0,l.assign)(n.attributes,e),t):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:e}),t)},e.prototype.dropNode=function(t){if(t=""+t,!this.hasNode(t))throw new a.NotFoundGraphError('Graph.dropNode: could not find the "'+t+'" node in the graph.');for(var e=this.edges(t),n=0,r=e.length;n<r;n++)this.dropEdge(e[n]);var i=this._nodes.get(t);this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:i.attributes})},e.prototype.dropEdge=function(t){var e=void 0;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(e=(0,l.getMatchingEdge)(this,n,r,this.type)))throw new a.NotFoundGraphError('Graph.dropEdge: could not find the "'+n+'" -> "'+r+'" edge in the graph.')}else if(t=""+t,!(e=this._edges.get(t)))throw new a.NotFoundGraphError('Graph.dropEdge: could not find the "'+t+'" edge in the graph.');this._edges.delete(e.key);var i=e,o=i.source,d=i.target,h=i.attributes,c=e instanceof s.UndirectedEdgeData;return o===d?o.selfLoops--:c?(o.undirectedDegree--,d.undirectedDegree--):(o.outDegree--,d.inDegree--),(0,u.clearEdgeFromStructureIndex)(this,c,e),c?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:t,attributes:h,source:o.key,target:d.key,undirected:c}),this},e.prototype.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},e.prototype.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},e.prototype.getAttribute=function(t){return this._attributes[t]},e.prototype.getAttributes=function(){return this._attributes},e.prototype.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},e.prototype.setAttribute=function(t,e){return this._attributes[t]=e,this.emit("attributesUpdated",{type:"set",meta:{name:t,value:e}}),this},e.prototype.updateAttribute=function(t,e){if("function"!=typeof e)throw new a.InvalidArgumentsGraphError("Graph.updateAttribute: updater should be a function.");return this._attributes[t]=e(this._attributes[t]),this.emit("attributesUpdated",{type:"set",meta:{name:t,value:this._attributes[t]}}),this},e.prototype.removeAttribute=function(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",meta:{name:t}}),this},e.prototype.replaceAttributes=function(t){if(!(0,l.isPlainObject)(t))throw new a.InvalidArgumentsGraphError("Graph.replaceAttributes: provided attributes are not a plain object.");var e=this._attributes;return this._attributes=t,this.emit("attributesUpdated",{type:"replace",meta:{before:e,after:t}}),this},e.prototype.mergeAttributes=function(t){if(!(0,l.isPlainObject)(t))throw new a.InvalidArgumentsGraphError("Graph.mergeAttributes: provided attributes are not a plain object.");return this._attributes=(0,l.assign)(this._attributes,t),this.emit("attributesUpdated",{type:"merge",meta:{data:this._attributes}}),this},e.prototype.getNodeAttribute=function(t,e){t=""+t;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.getNodeAttribute: could not find the "'+t+'" node in the graph.');return n.attributes[e]},e.prototype.getNodeAttributes=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new a.NotFoundGraphError('Graph.getNodeAttributes: could not find the "'+t+'" node in the graph.');return e.attributes},e.prototype.hasNodeAttribute=function(t,e){t=""+t;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.hasNodeAttribute: could not find the "'+t+'" node in the graph.');return n.attributes.hasOwnProperty(e)},e.prototype.setNodeAttribute=function(t,e,n){t=""+t;var r=this._nodes.get(t);if(!r)throw new a.NotFoundGraphError('Graph.setNodeAttribute: could not find the "'+t+'" node in the graph.');if(arguments.length<3)throw new a.InvalidArgumentsGraphError("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return r.attributes[e]=n,this.emit("nodeAttributesUpdated",{key:t,type:"set",meta:{name:e,value:n}}),this},e.prototype.updateNodeAttribute=function(t,e,n){t=""+t;var r=this._nodes.get(t);if(!r)throw new a.NotFoundGraphError('Graph.updateNodeAttribute: could not find the "'+t+'" node in the graph.');if(arguments.length<3)throw new a.InvalidArgumentsGraphError("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof n)throw new a.InvalidArgumentsGraphError("Graph.updateAttribute: updater should be a function.");var i=r.attributes;return i[e]=n(i[e]),this.emit("nodeAttributesUpdated",{key:t,type:"set",meta:{name:e,value:i[e]}}),this},e.prototype.removeNodeAttribute=function(t,e){t=""+t;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.hasNodeAttribute: could not find the "'+t+'" node in the graph.');return delete n.attributes[e],this.emit("nodeAttributesUpdated",{key:t,type:"remove",meta:{name:e}}),this},e.prototype.replaceNodeAttributes=function(t,e){t=""+t;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.replaceNodeAttributes: could not find the "'+t+'" node in the graph.');if(!(0,l.isPlainObject)(e))throw new a.InvalidArgumentsGraphError("Graph.replaceNodeAttributes: provided attributes are not a plain object.");var r=n.attributes;return n.attributes=e,this.emit("nodeAttributesUpdated",{key:t,type:"replace",meta:{before:r,after:e}}),this},e.prototype.mergeNodeAttributes=function(t,e){t=""+t;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError('Graph.mergeNodeAttributes: could not find the "'+t+'" node in the graph.');if(!(0,l.isPlainObject)(e))throw new a.InvalidArgumentsGraphError("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return(0,l.assign)(n.attributes,e),this.emit("nodeAttributesUpdated",{key:t,type:"merge",meta:{data:e}}),this},e.prototype.forEach=function(t){if("function"!=typeof t)throw new a.InvalidArgumentsGraphError("Graph.forEach: expecting a callback.");this._edges.forEach(function(e,n){var r=e.source,i=e.target;t(r.key,i.key,r.attributes,i.attributes,n,e.attributes)})},e.prototype.adjacency=function(){var t=this._edges.values();return new i.default(function(){var e=t.next();if(e.done)return e;var n=e.value,r=n.source,i=n.target;return{done:!1,value:[r.key,i.key,r.attributes,i.attributes,n.key,n.attributes]}})},e.prototype.nodes=function(){return(0,o.default)(this._nodes.keys(),this._nodes.size)},e.prototype.forEachNode=function(t){if("function"!=typeof t)throw new a.InvalidArgumentsGraphError("Graph.forEachNode: expecting a callback.");this._nodes.forEach(function(e,n){t(n,e.attributes)})},e.prototype.nodeEntries=function(){var t=this._nodes.values();return new i.default(function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:[n.key,n.attributes],done:!1}})},e.prototype.exportNode=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new a.NotFoundGraphError('Graph.exportNode: could not find the "'+t+'" node in the graph.');return(0,f.serializeNode)(t,e)},e.prototype.exportEdge=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new a.NotFoundGraphError('Graph.exportEdge: could not find the "'+t+'" edge in the graph.');return(0,f.serializeEdge)(t,e)},e.prototype.export=function(){var t=new Array(this._nodes.size),e=0;this._nodes.forEach(function(n,r){t[e++]=(0,f.serializeNode)(r,n)});var n=new Array(this._edges.size);return e=0,this._edges.forEach(function(t,r){n[e++]=(0,f.serializeEdge)(r,t)}),{attributes:this.getAttributes(),nodes:t,edges:n}},e.prototype.importNode=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,f.validateSerializedNode)(t);if(n){if("not-object"===n)throw new a.InvalidArgumentsGraphError('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===n)throw new a.InvalidArgumentsGraphError("Graph.importNode: no key provided.");if("invalid-attributes"===n)throw new a.InvalidArgumentsGraphError("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var r=t.key,i=t.attributes,o=void 0===i?{}:i;return e?this.mergeNode(r,o):this.addNode(r,o),this},e.prototype.importEdge=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,f.validateSerializedEdge)(t);if(n){if("not-object"===n)throw new a.InvalidArgumentsGraphError('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===n)throw new a.InvalidArgumentsGraphError("Graph.importEdge: missing souce.");if("no-target"===n)throw new a.InvalidArgumentsGraphError("Graph.importEdge: missing target.");if("invalid-attributes"===n)throw new a.InvalidArgumentsGraphError("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===n)throw new a.InvalidArgumentsGraphError("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var r=t.source,i=t.target,o=t.attributes,s=void 0===o?{}:o,u=t.undirected,d=void 0!==u&&u;return"key"in t?(e?d?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:d?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,t.key,r,i,s):(e?d?this.mergeUndirectedEdge:this.mergeDirectedEdge:d?this.addUndirectedEdge:this.addDirectedEdge).call(this,r,i,s),this},e.prototype.import=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,l.isGraph)(t))return this.import(t.export(),n),this;if(!(0,l.isPlainObject)(t))throw new a.InvalidArgumentsGraphError("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!(0,l.isPlainObject)(t.attributes))throw new a.InvalidArgumentsGraphError("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}return t.nodes&&t.nodes.forEach(function(t){return e.importNode(t,n)}),t.edges&&t.edges.forEach(function(t){return e.importEdge(t,n)}),this},e.prototype.emptyCopy=function(){return new e(this._options)},e.prototype.copy=function(){var t=new e(this._options);return t.import(this),t},e.prototype.upgradeToMixed=function(){return"mixed"===this.type?this:(this._nodes.forEach(function(t){return t.upgradeToMixed()}),this._options.type="mixed",(0,l.readOnlyProperty)(this,"type",this._options.type),(0,l.privateProperty)(this,"NodeDataClass",s.MixedNodeData),this)},e.prototype.upgradeToMulti=function(){return this.multi?this:(this._options.multi=!0,(0,l.readOnlyProperty)(this,"multi",!0),(0,u.upgradeStructureIndexToMulti)(this),this)},e.prototype.clearIndex=function(){return(0,u.clearStructureIndex)(this),this},e.prototype.toJSON=function(){return this.export()},e.prototype.toString=function(){var t=this.order>1||0===this.order,e=this.size>1||0===this.size;return"Graph<"+(0,l.prettyPrint)(this.order)+" node"+(t?"s":"")+", "+(0,l.prettyPrint)(this.size)+" edge"+(e?"s":"")+">"},e.prototype.inspect=function(){var t=this,e={};this._nodes.forEach(function(t,n){e[n]=t.attributes});var n={},r={};this._edges.forEach(function(e,i){var o=e instanceof s.UndirectedEdgeData?"--":"->",a="",u="("+e.source.key+")"+o+"("+e.target.key+")";e.generatedKey?t.multi&&(void 0===r[u]?r[u]=0:r[u]++,a+=r[u]+". "):a+="["+i+"]: ",n[a+=u]=e.attributes});var i={};for(var o in this)this.hasOwnProperty(o)&&!y.has(o)&&"function"!=typeof this[o]&&(i[o]=this[o]);return i.attributes=this._attributes,i.nodes=e,i.edges=n,(0,l.privateProperty)(i,"constructor",this.constructor),i},e}(r.EventEmitter);e.default=w,[{name:function(t){return t+"Edge"},generateKey:!0},{name:function(t){return t+"DirectedEdge"},generateKey:!0,type:"directed"},{name:function(t){return t+"UndirectedEdge"},generateKey:!0,type:"undirected"},{name:function(t){return t+"EdgeWithKey"}},{name:function(t){return t+"DirectedEdgeWithKey"},type:"directed"},{name:function(t){return t+"UndirectedEdgeWithKey"},type:"undirected"}].forEach(function(t){["add","merge"].forEach(function(e){var n=t.name(e),r="add"===e?b:m;t.generateKey?w.prototype[n]=function(e,i,o){return r(this,n,!0,"undirected"===(t.type||this.type),null,e,i,o)}:w.prototype[n]=function(e,i,o,a){return r(this,n,!1,"undirected"===(t.type||this.type),e,i,o,a)}})}),(0,d.attachAttributesMethods)(w),(0,h.attachEdgeIterationMethods)(w),(0,c.attachNeighborIterationMethods)(w)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateStructureIndex=function(t,e,n,r,i,o,a){var s=t.multi,u=e?"undirected":"out",d=e?"undirected":"in",h=o[u][i];void 0===h&&(h=s?new Set:n,o[u][i]=h);s&&h.add(n);if(r===i)return;void 0===a[d][r]&&(a[d][r]=h)},e.clearEdgeFromStructureIndex=function(t,e,n){var r=t.multi,i=n.source,o=n.target,a=i.key,s=o.key,u=i[e?"undirected":"out"],d=e?"undirected":"in";if(s in u)if(r){var h=u[s];1===h.size?(delete u[s],delete o[d][a]):h.delete(n)}else delete u[s];if(r)return;delete o[d][a]},e.clearStructureIndex=function(t){t._nodes.forEach(function(t){void 0!==t.in&&(t.in={},t.out={}),void 0!==t.undirected&&(t.undirected={})})},e.upgradeStructureIndexToMulti=function(t){t._nodes.forEach(function(e,n){if(e.out)for(var r in e.out){var i=new Set;i.add(e.out[r]),e.out[r]=i,t._nodes.get(r).in[n]=i}if(e.undirected)for(var o in e.undirected)if(!(o>n)){var a=new Set;a.add(e.undirected[o]),e.undirected[o]=a,t._nodes.get(o).undirected[n]=a}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachAttributesMethods=function(t){a.forEach(function(e){var n=e.name,r=e.attacher;r(t,n("Edge"),"mixed",o.DirectedEdgeData),r(t,n("DirectedEdge"),"directed",o.DirectedEdgeData),r(t,n("UndirectedEdge"),"undirected",o.UndirectedEdgeData)})};var r=n(14),i=n(12),o=n(16);var a=[{name:function(t){return"get"+t+"Attribute"},attacher:function(t,e,n,o){t.prototype[e]=function(t,a){var s=void 0;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new i.UsageGraphError("Graph."+e+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new i.UsageGraphError("Graph."+e+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var u=""+t,d=""+a;if(a=arguments[2],!(s=(0,r.getMatchingEdge)(this,u,d,n)))throw new i.NotFoundGraphError("Graph."+e+': could not find an edge for the given path ("'+u+'" - "'+d+'").')}else if(t=""+t,!(s=this._edges.get(t)))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" edge in the graph.');if("mixed"!==n&&!(s instanceof o))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" '+n+" edge in the graph.");return s.attributes[a]}}},{name:function(t){return"get"+t+"Attributes"},attacher:function(t,e,n,o){t.prototype[e]=function(t){var a=void 0;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new i.UsageGraphError("Graph."+e+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>1){if(this.multi)throw new i.UsageGraphError("Graph."+e+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var s=""+t,u=""+arguments[1];if(!(a=(0,r.getMatchingEdge)(this,s,u,n)))throw new i.NotFoundGraphError("Graph."+e+': could not find an edge for the given path ("'+s+'" - "'+u+'").')}else if(t=""+t,!(a=this._edges.get(t)))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" edge in the graph.');if("mixed"!==n&&!(a instanceof o))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" '+n+" edge in the graph.");return a.attributes}}},{name:function(t){return"has"+t+"Attribute"},attacher:function(t,e,n,o){t.prototype[e]=function(t,a){var s=void 0;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new i.UsageGraphError("Graph."+e+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new i.UsageGraphError("Graph."+e+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var u=""+t,d=""+a;if(a=arguments[2],!(s=(0,r.getMatchingEdge)(this,u,d,n)))throw new i.NotFoundGraphError("Graph."+e+': could not find an edge for the given path ("'+u+'" - "'+d+'").')}else if(t=""+t,!(s=this._edges.get(t)))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" edge in the graph.');if("mixed"!==n&&!(s instanceof o))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" '+n+" edge in the graph.");return s.attributes.hasOwnProperty(a)}}},{name:function(t){return"set"+t+"Attribute"},attacher:function(t,e,n,o){t.prototype[e]=function(t,a,s){var u=void 0;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new i.UsageGraphError("Graph."+e+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>3){if(this.multi)throw new i.UsageGraphError("Graph."+e+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var d=""+t,h=""+a;if(a=arguments[2],s=arguments[3],!(u=(0,r.getMatchingEdge)(this,d,h,n)))throw new i.NotFoundGraphError("Graph."+e+': could not find an edge for the given path ("'+d+'" - "'+h+'").')}else if(t=""+t,!(u=this._edges.get(t)))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" edge in the graph.');if("mixed"!==n&&!(u instanceof o))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" '+n+" edge in the graph.");return u.attributes[a]=s,this.emit("edgeAttributesUpdated",{key:u.key,type:"set",meta:{name:a,value:s}}),this}}},{name:function(t){return"update"+t+"Attribute"},attacher:function(t,e,n,o){t.prototype[e]=function(t,a,s){var u=void 0;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new i.UsageGraphError("Graph."+e+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>3){if(this.multi)throw new i.UsageGraphError("Graph."+e+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var d=""+t,h=""+a;if(a=arguments[2],s=arguments[3],!(u=(0,r.getMatchingEdge)(this,d,h,n)))throw new i.NotFoundGraphError("Graph."+e+': could not find an edge for the given path ("'+d+'" - "'+h+'").')}else if(t=""+t,!(u=this._edges.get(t)))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" edge in the graph.');if("function"!=typeof s)throw new i.InvalidArgumentsGraphError("Graph."+e+": updater should be a function.");if("mixed"!==n&&!(u instanceof o))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" '+n+" edge in the graph.");return u.attributes[a]=s(u.attributes[a]),this.emit("edgeAttributesUpdated",{key:u.key,type:"set",meta:{name:a,value:u.attributes[a]}}),this}}},{name:function(t){return"remove"+t+"Attribute"},attacher:function(t,e,n,o){t.prototype[e]=function(t,a){var s=void 0;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new i.UsageGraphError("Graph."+e+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new i.UsageGraphError("Graph."+e+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var u=""+t,d=""+a;if(a=arguments[2],!(s=(0,r.getMatchingEdge)(this,u,d,n)))throw new i.NotFoundGraphError("Graph."+e+': could not find an edge for the given path ("'+u+'" - "'+d+'").')}else if(t=""+t,!(s=this._edges.get(t)))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" edge in the graph.');if("mixed"!==n&&!(s instanceof o))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" '+n+" edge in the graph.");return delete s.attributes[a],this.emit("edgeAttributesUpdated",{key:s.key,type:"remove",meta:{name:a}}),this}}},{name:function(t){return"replace"+t+"Attributes"},attacher:function(t,e,n,o){t.prototype[e]=function(t,a){var s=void 0;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new i.UsageGraphError("Graph."+e+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new i.UsageGraphError("Graph."+e+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var u=""+t,d=""+a;if(a=arguments[2],!(s=(0,r.getMatchingEdge)(this,u,d,n)))throw new i.NotFoundGraphError("Graph."+e+': could not find an edge for the given path ("'+u+'" - "'+d+'").')}else if(t=""+t,!(s=this._edges.get(t)))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" edge in the graph.');if(!(0,r.isPlainObject)(a))throw new i.InvalidArgumentsGraphError("Graph."+e+": provided attributes are not a plain object.");if("mixed"!==n&&!(s instanceof o))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" '+n+" edge in the graph.");var h=s.attributes;return s.attributes=a,this.emit("edgeAttributesUpdated",{key:s.key,type:"replace",meta:{before:h,after:a}}),this}}},{name:function(t){return"merge"+t+"Attributes"},attacher:function(t,e,n,o){t.prototype[e]=function(t,a){var s=void 0;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new i.UsageGraphError("Graph."+e+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new i.UsageGraphError("Graph."+e+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var u=""+t,d=""+a;if(a=arguments[2],!(s=(0,r.getMatchingEdge)(this,u,d,n)))throw new i.NotFoundGraphError("Graph."+e+': could not find an edge for the given path ("'+u+'" - "'+d+'").')}else if(t=""+t,!(s=this._edges.get(t)))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" edge in the graph.');if(!(0,r.isPlainObject)(a))throw new i.InvalidArgumentsGraphError("Graph."+e+": provided attributes are not a plain object.");if("mixed"!==n&&!(s instanceof o))throw new i.NotFoundGraphError("Graph."+e+': could not find the "'+t+'" '+n+" edge in the graph.");return(0,r.assign)(s.attributes,a),this.emit("edgeAttributesUpdated",{key:s.key,type:"merge",meta:{data:a}}),this}}}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachEdgeIteratorCreator=y,e.attachEdgeIterationMethods=function(t){d.forEach(function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return function(t,e){if(0===t.size)return[];if("mixed"===e||e===t.type)return(0,o.default)(t._edges.keys(),t._edges.size);var n="undirected"===e?t.undirectedSize:t.directedSize,r=new Array(n),i="undirected"===e,a=0;return t._edges.forEach(function(t,e){t instanceof s.UndirectedEdgeData===i&&(r[a++]=e)}),r}(this,r);if(1===arguments.length){t=""+t;var u=this._nodes.get(t);if(void 0===u)throw new a.NotFoundGraphError("Graph."+n+': could not find the "'+t+'" node in the graph.');return function(t,e,n){var r=[];"undirected"!==t&&("out"!==e&&h(r,n.in),"in"!==e&&h(r,n.out));"directed"!==t&&h(r,n.undirected);return r}("mixed"===r?this.type:r,i,u)}if(2===arguments.length){t=""+t,e=""+e;var d=this._nodes.get(t);if(!d)throw new a.NotFoundGraphError("Graph."+n+':  could not find the "'+t+'" source node in the graph.');if(!this._nodes.has(e))throw new a.NotFoundGraphError("Graph."+n+':  could not find the "'+e+'" target node in the graph.');return function(t,e,n,r){var i=[];"undirected"!==t&&(void 0!==n.in&&"out"!==e&&l(i,n.in,r),void 0!==n.out&&"in"!==e&&l(i,n.out,r));"directed"!==t&&void 0!==n.undirected&&l(i,n.undirected,r);return i}(r,i,d,e)}throw new a.InvalidArgumentsGraphError("Graph."+n+": too many arguments (expecting 0, 1 or 2 and got "+arguments.length+").")}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return function(t,e,n){if(0===t.size)return;if("mixed"===e||e===t.type)t._edges.forEach(function(t,e){var r=t.attributes,i=t.source,o=t.target;n(e,r,i.key,o.key,i.attributes,o.attributes)});else{var r="undirected"===e;t._edges.forEach(function(t,e){if(t instanceof s.UndirectedEdgeData===r){var i=t.attributes,o=t.source,a=t.target;n(e,i,o.key,a.key,o.attributes,a.attributes)}})}}(this,r,n=t);if(2===arguments.length){t=""+t,n=e;var u=this._nodes.get(t);if(void 0===u)throw new a.NotFoundGraphError("Graph."+o+': could not find the "'+t+'" node in the graph.');return function(t,e,n,r){"undirected"!==t&&("out"!==e&&c(n.in,r),"in"!==e&&c(n.out,r));"directed"!==t&&c(n.undirected,r)}("mixed"===r?this.type:r,i,u,n)}if(3===arguments.length){t=""+t,e=""+e;var d=this._nodes.get(t);if(!d)throw new a.NotFoundGraphError("Graph."+o+':  could not find the "'+t+'" source node in the graph.');if(!this._nodes.has(e))throw new a.NotFoundGraphError("Graph."+o+':  could not find the "'+e+'" target node in the graph.');return function(t,e,n,r,i){"undirected"!==t&&(void 0!==n.in&&"out"!==e&&p(n.in,r,i),void 0!==n.out&&"in"!==e&&p(n.out,r,i));"directed"!==t&&void 0!==n.undirected&&p(n.undirected,r,i)}(r,i,d,e,n)}throw new a.InvalidArgumentsGraphError("Graph."+o+": too many arguments (expecting 1, 2 or 3 and got "+arguments.length+").")}}}(t,e),y(t,e)})};var r=u(n(15)),i=u(n(43)),o=u(n(28)),a=n(12),s=n(16);function u(t){return t&&t.__esModule?t:{default:t}}var d=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function h(t,e){for(var n in e)e[n]instanceof Set?e[n].forEach(function(e){return t.push(e.key)}):t.push(e[n].key)}function c(t,e){for(var n in t)if(t[n]instanceof Set)t[n].forEach(function(t){return e(t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes)});else{var r=t[n];e(r.key,r.attributes,r.source.key,r.target.key,r.source.attributes,r.target.attributes)}}function f(t){var e=Object.keys(t),n=e.length,i=null,o=0;return new r.default(function r(){var a=void 0;if(i){var s=i.next();if(s.done)return i=null,o++,r();a=s.value}else{if(o>=n)return{done:!0};var u=e[o];if((a=t[u])instanceof Set)return i=a.values(),r();o++}return{done:!1,value:[a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes]}})}function l(t,e,n){n in e&&(e[n]instanceof Set?e[n].forEach(function(e){return t.push(e.key)}):t.push(e[n].key))}function p(t,e,n){if(e in t)if(t[e]instanceof Set)t[e].forEach(function(t){return n(t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes)});else{var r=t[e];n(r.key,r.attributes,r.source.key,r.target.key,r.source.attributes,r.target.attributes)}}function g(t,e){var n=t[e];if(n instanceof Set){var i=n.values();return new r.default(function(){var t=i.next();if(t.done)return t;var e=t.value;return{done:!1,value:[e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes]}})}return r.default.of([n.key,n.attributes,n.source.key,n.target.key,n.source.attributes,n.target.attributes])}function y(t,e){var n=e.name,o=e.type,u=e.direction,d=n.slice(0,-1)+"Entries";t.prototype[d]=function(t,e){if("mixed"!==o&&"mixed"!==this.type&&o!==this.type)return r.default.empty();if(!arguments.length)return function(t,e){if(0===t.size)return r.default.empty();var n=void 0;return"mixed"===e?(n=t._edges.values(),new r.default(function(){var t=n.next();if(t.done)return t;var e=t.value;return{value:[e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes],done:!1}})):(n=t._edges.values(),new r.default(function t(){var r=n.next();if(r.done)return r;var i=r.value;return i instanceof s.UndirectedEdgeData==("undirected"===e)?{value:[i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes],done:!1}:t()}))}(this,o);if(1===arguments.length){t=""+t;var n=this._nodes.get(t);if(!n)throw new a.NotFoundGraphError("Graph."+d+': could not find the "'+t+'" node in the graph.');return function(t,e,n){var o=r.default.empty();return"undirected"!==t&&("out"!==e&&void 0!==n.in&&(o=(0,i.default)(o,f(n.in))),"in"!==e&&void 0!==n.out&&(o=(0,i.default)(o,f(n.out)))),"directed"!==t&&void 0!==n.undirected&&(o=(0,i.default)(o,f(n.undirected))),o}(o,u,n)}if(2===arguments.length){t=""+t,e=""+e;var h=this._nodes.get(t);if(!h)throw new a.NotFoundGraphError("Graph."+d+':  could not find the "'+t+'" source node in the graph.');if(!this._nodes.has(e))throw new a.NotFoundGraphError("Graph."+d+':  could not find the "'+e+'" target node in the graph.');return function(t,e,n,o){var a=r.default.empty();return"undirected"!==t&&(void 0!==n.in&&"out"!==e&&o in n.in&&(a=(0,i.default)(a,g(n.in,o))),void 0!==n.out&&"in"!==e&&o in n.out&&(a=(0,i.default)(a,g(n.out,o)))),"directed"!==t&&void 0!==n.undirected&&o in n.undirected&&(a=(0,i.default)(a,g(n.undirected,o))),a}(o,u,h,e)}throw new a.InvalidArgumentsGraphError("Graph."+d+": too many arguments (expecting 0, 1 or 2 and got "+arguments.length+").")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachNeighborIterationMethods=function(t){u.forEach(function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(2===arguments.length){var e=""+arguments[0],s=""+arguments[1];if(!this._nodes.has(e))throw new a.NotFoundGraphError("Graph."+n+': could not find the "'+e+'" node in the graph.');if(!this._nodes.has(s))throw new a.NotFoundGraphError("Graph."+n+': could not find the "'+s+'" node in the graph.');return function(t,e,n,r,i){var o=t._nodes.get(r);if("undirected"!==e){if("out"!==n&&void 0!==o.in)for(var a in o.in)if(a===i)return!0;if("in"!==n&&void 0!==o.out)for(var s in o.out)if(s===i)return!0}if("directed"!==e&&void 0!==o.undirected)for(var u in o.undirected)if(u===i)return!0;return!1}(this,r,i,e,s)}if(1===arguments.length){t=""+t;var u=this._nodes.get(t);if(void 0===u)throw new a.NotFoundGraphError("Graph."+n+': could not find the "'+t+'" node in the graph.');var h=function(t,e,n){if("mixed"!==t){if("undirected"===t)return Object.keys(n.undirected);if("string"==typeof e)return Object.keys(n[e])}var r=new Set;"undirected"!==t&&("out"!==e&&d(r,n.in),"in"!==e&&d(r,n.out));"directed"!==t&&d(r,n.undirected);return(0,o.default)(r.values(),r.size)}("mixed"===r?this.type:r,i,u);return h}throw new a.InvalidArgumentsGraphError("Graph."+n+": invalid number of arguments (expecting 1 or 2 and got "+arguments.length+").")}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if("mixed"===r||"mixed"===this.type||r===this.type){t=""+t;var n=this._nodes.get(t);if(void 0===n)throw new a.NotFoundGraphError("Graph."+o+': could not find the "'+t+'" node in the graph.');!function(t,e,n,r){if("mixed"!==t){if("undirected"===t)return h(n,n.undirected,r);if("string"==typeof e)return h(n,n[e],r)}var i=new Set;"undirected"!==t&&("out"!==e&&c(i,n,n.in,r),"in"!==e&&c(i,n,n.out,r));"directed"!==t&&c(i,n,n.undirected,r)}("mixed"===r?this.type:r,i,n,e)}}}(t,e),function(t,e){var n=e.name,o=e.type,s=e.direction,u=n.slice(0,-1)+"Entries";t.prototype[u]=function(t){if("mixed"!==o&&"mixed"!==this.type&&o!==this.type)return r.default.empty();t=""+t;var e=this._nodes.get(t);if(void 0===e)throw new a.NotFoundGraphError("Graph."+u+': could not find the "'+t+'" node in the graph.');return function(t,e,n){if("mixed"!==t){if("undirected"===t)return f(n,n.undirected);if("string"==typeof e)return f(n,n[e])}var o=r.default.empty(),a=new Set;"undirected"!==t&&("out"!==e&&(o=(0,i.default)(o,l(a,n,n.in))),"in"!==e&&(o=(0,i.default)(o,l(a,n,n.out))));"directed"!==t&&(o=(0,i.default)(o,l(a,n,n.undirected)));return o}("mixed"===o?this.type:o,s,e)}}(t,e)})};var r=s(n(15)),i=s(n(43)),o=s(n(28)),a=n(12);function s(t){return t&&t.__esModule?t:{default:t}}var u=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function d(t,e){if(void 0!==e)for(var n in e)t.add(n)}function h(t,e,n){for(var r in e){var i=e[r];i instanceof Set&&(i=i.values().next().value);var o=i.source,a=i.target,s=o===t?a:o;n(s.key,s.attributes)}}function c(t,e,n,r){for(var i in n){var o=n[i];o instanceof Set&&(o=o.values().next().value);var a=o.source,s=o.target,u=a===e?s:a;t.has(u.key)||(t.add(u.key),r(u.key,u.attributes))}}function f(t,e){var n=Object.keys(e),i=n.length,o=0;return new r.default(function(){if(o>=i)return{done:!0};var r=e[n[o++]];r instanceof Set&&(r=r.values().next().value);var a=r.source,s=r.target,u=a===t?s:a;return{done:!1,value:[u.key,u.attributes]}})}function l(t,e,n){var i=Object.keys(n),o=i.length,a=0;return new r.default(function r(){if(a>=o)return{done:!0};var s=n[i[a++]];s instanceof Set&&(s=s.values().next().value);var u=s.source,d=s.target,h=u===e?d:u;return t.has(h.key)?r():(t.add(h.key),{done:!1,value:[h.key,h.attributes]})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serializeNode=function(t,e){var n={key:t};Object.keys(e.attributes).length&&(n.attributes=(0,i.assign)({},e.attributes));return n},e.serializeEdge=function(t,e){var n={source:e.source.key,target:e.target.key};e.generatedKey||(n.key=t);Object.keys(e.attributes).length&&(n.attributes=(0,i.assign)({},e.attributes));e instanceof r.UndirectedEdgeData&&(n.undirected=!0);return n},e.validateSerializedNode=function(t){return(0,i.isPlainObject)(t)?"key"in t?"attributes"in t&&(!(0,i.isPlainObject)(t.attributes)||null===t.attributes)?"invalid-attributes":null:"no-key":"not-object"},e.validateSerializedEdge=function(t){return(0,i.isPlainObject)(t)?"source"in t?"target"in t?"attributes"in t&&(!(0,i.isPlainObject)(t.attributes)||null===t.attributes)?"invalid-attributes":"undirected"in t&&"boolean"!=typeof t.undirected?"invalid-undirected":null:"no-target":"no-source":"not-object"};var r=n(16),i=n(14)},function(t,e,n){t.exports=n(84)},function(t,e,n){var r=n(85);e.sameNodes=function(t,e){if(t.order!==e.order)return!1;var n,r=t.nodes(),i=t.order;for(n=0;n<i;n++)if(!e.hasNode(r[n]))return!1;return!0},e.sameDeepNodes=function(t,e){if(t.order!==e.order)return!1;var n,i=t.nodes(),o=t.order;for(n=0;n<o;n++){if(!e.hasNode(i[n]))return!1;if(!r(t.getNodeAttributes(i[n]),e.getNodeAttributes(i[n])))return!1}return!0}},function(t,e,n){var r=n(86);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(87),i=n(7);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(44),i=n(48),o=n(121),a=n(124),s=n(140),u=n(21),d=n(33),h=n(35),c=1,f="[object Arguments]",l="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,v,b){var m=u(t),w=u(e),E=m?l:s(t),_=w?l:s(e),x=(E=E==f?p:E)==p,N=(_=_==f?p:_)==p,D=E==_;if(D&&d(t)){if(!d(e))return!1;m=!0,x=!1}if(D&&!x)return b||(b=new r),m||h(t)?i(t,e,n,y,v,b):o(t,e,E,n,y,v,b);if(!(n&c)){var O=x&&g.call(t,"__wrapped__"),M=N&&g.call(e,"__wrapped__");if(O||M){var A=O?t.value():t,G=M?e.value():e;return b||(b=new r),v(A,G,n,y,b)}}return!!D&&(b||(b=new r),a(t,e,n,y,v,b))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(18),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(18);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(18);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(18);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(17);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(17),i=n(29),o=n(47),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(30),i=n(101),o=n(4),a=n(46),s=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,h=u.toString,c=d.hasOwnProperty,f=RegExp("^"+h.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r=n(31),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(102),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(3)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(105),i=n(17),o=n(29);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(106),i=n(107),o=n(108),a=n(109),s=n(110);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(19);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(19),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(19),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(19),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(20);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(20);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(20);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(20);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(47),i=n(117),o=n(118);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(31),i=n(49),o=n(10),a=n(48),s=n(122),u=n(123),d=1,h=2,c="[object Boolean]",f="[object Date]",l="[object Error]",p="[object Map]",g="[object Number]",y="[object RegExp]",v="[object Set]",b="[object String]",m="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",_=r?r.prototype:void 0,x=_?_.valueOf:void 0;t.exports=function(t,e,n,r,_,N,D){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!N(new i(t),new i(e)));case c:case f:case g:return o(+t,+e);case l:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case p:var O=s;case v:var M=r&d;if(O||(O=u),t.size!=e.size&&!M)return!1;var A=D.get(t);if(A)return A==e;r|=h,D.set(t,e);var G=a(O(t),O(e),r,_,N,D);return D.delete(t),G;case m:if(x)return x.call(t)==x.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(125),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var d=n&i,h=r(t),c=h.length;if(c!=r(e).length&&!d)return!1;for(var f=c;f--;){var l=h[f];if(!(d?l in e:o.call(e,l)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var g=!0;u.set(t,e),u.set(e,t);for(var y=d;++f<c;){var v=t[l=h[f]],b=e[l];if(a)var m=d?a(b,v,l,e,t,u):a(v,b,l,t,e,u);if(!(void 0===m?v===b||s(v,b,n,a,u):m)){g=!1;break}y||(y="constructor"==l)}if(g&&!y){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e,n){var r=n(126),i=n(128),o=n(131);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(127),i=n(21);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(129),i=n(130),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(50),i=n(138),o=n(22);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(11),i=n(7),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(11),i=n(53),o=n(7),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(45),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(34)(t))},function(t,e,n){var r=n(36),i=n(139),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(54)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(141),i=n(29),o=n(142),a=n(143),s=n(144),u=n(11),d=n(46),h=d(r),c=d(i),f=d(o),l=d(a),p=d(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?d(n):"";if(r)switch(r){case h:return"[object DataView]";case c:return"[object Map]";case f:return"[object Promise]";case l:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(6)(n(3),"DataView");t.exports=r},function(t,e,n){var r=n(6)(n(3),"Promise");t.exports=r},function(t,e,n){var r=n(6)(n(3),"Set");t.exports=r},function(t,e,n){var r=n(6)(n(3),"WeakMap");t.exports=r},function(t,e,n){t.exports=n(146)},function(t,e,n){var r=n(23),i=n(1),o={attributes:{community:"community",weight:"weight"}};function a(t,e,n){if(!i(e))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");if(e.multi)throw new Error("graphology-communities-louvain: multi graphs are not handled.");if(!e.size)throw new Error("graphology-communities-louvain: the graph has no edges.");n=r({},n,o);var a,s,u,d,h,c,f,l,p,g,y,v,b,m,w,E,_,x,N,D,O,M,A,G,S,R,I,k,T,j,P,L,z,C,F,U,X=e.nodes(),Y={},q=e;for(A=0,G=X.length;A<G;A++)Y[X[A]]=[X[A]];do{for(l=!1,X=q.nodes(),a=q.edges(),u=0,d={},p={},v={},h={},c={},f={prev:{},curr:{},flag:!1},A=0,G=X.length;A<G;A++)d[j=X[A]]=j,p[j]={},p[j][j]=!0,h[j]=0,c[j]=0;for(A=0,G=a.length;A<G;A++)L=a[A],C=q.extremities(L),g=q.getEdgeAttribute(L,n.attributes.weight),y=isNaN(g)?1:g,v[L]=y,c[C[0]]+=y,h[C[1]]+=y,q.undirected(L)&&C[0]!==C[1]?(h[C[0]]+=y,c[C[1]]+=y,u+=2*y):u+=y;do{for(w=!1,f.prev=f.curr,f.curr={},A=0,G=X.length;A<G;A++){for(m=0,b=0,(M={})[F=d[j=X[A]]]=!0,x={old:0,new:0},N={in:0,out:0},S=0,R=(O=Object.keys(p[F])).length;S<R;S++)j!==(P=O[S])&&(N.in+=h[P],N.out+=c[P],x.old+=v[q.edge(j,P)]||0,x.old+=v[q.edge(P,j)]||0);for(S=0,R=(E=q.neighbors(j)).length;S<R;S++)if(!M[U=d[E[S]]]&&(M[U]=!0,!f.flag||f.prev[F]||f.prev[U])){for(x.new=0,D={in:0,out:0},I=0,k=(O=Object.keys(p[U])).length;I<k;I++)P=O[I],D.in+=h[P],D.out+=c[P],x.new+=v[q.edge(j,P)]||0,x.new+=v[q.edge(P,j)]||0;m=(x.new-x.old)/u,m+=h[j]*(N.out-D.out)/(u*u),(m+=c[j]*(N.in-D.in)/(u*u))>b&&(b=m,_=U)}b>0&&(w=!0,l=!0,f.curr[F]=!0,f.curr[_]=!0,delete p[F][j],0===Object.keys(p[F]).length&&delete p[F],d[j]=_,p[_][j]=j)}f.flag=!0}while(w);if(l){for((s=q.emptyCopy()).upgradeToMixed(),A=0,G=(T=Object.keys(p)).length;A<G;A++)s.addNode(T[A]);for(A=0,G=a.length;A<G;A++)L=a[A],F=d[(C=q.extremities(L))[0]],U=d[C[1]],g=v[L],void 0===(z=s.directedEdge(F,U))?s.addDirectedEdge(F,U,{weight:g}):(y=s.getEdgeAttribute(z,n.attributes.weight),s.setEdgeAttribute(z,n.attributes.weight,y+g)),q.undirected(L)&&C[0]!==C[1]&&(void 0===(z=s.directedEdge(U,F))?s.addDirectedEdge(U,F,{weight:g}):(y=s.getEdgeAttribute(z,n.attributes.weight),s.setEdgeAttribute(z,n.attributes.weight,y+g)));for(A=0,G=(X=Object.keys(Y)).length;A<G;A++)F=d[Y[j=X[A]][Y[j].length-1]],Y[j].push(F);q=s}}while(l);if(X=Object.keys(Y),t)for(A=0,G=X.length;A<G;A++)j=X[A],e.setNodeAttribute(j,n.attributes.community,Y[j][Y[j].length-1]);for(j in Y)Y[j]=Y[j][Y[j].length-1];return Y}var s=a.bind(null,!1);s.assign=a.bind(null,!0),t.exports=s},function(t,e,n){var r=n(55),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var d=Array(e+1);++a<e;)d[a]=o[a];return d[e]=n(u),r(t,this,d)}}},function(t,e,n){var r=n(149),i=n(151)(r);t.exports=i},function(t,e,n){var r=n(150),i=n(57),o=n(56),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(58),i=n(4);t.exports=function t(e,n,o,a,s,u){return i(e)&&i(n)&&(u.set(n,e),r(e,n,void 0,t,u),u.delete(n)),e}},function(t,e,n){var r=n(154)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(59),i=n(156),o=n(157),a=n(159),s=n(160),u=n(51),d=n(21),h=n(162),c=n(33),f=n(30),l=n(4),p=n(163),g=n(35),y=n(61),v=n(164);t.exports=function(t,e,n,b,m,w,E){var _=y(t,n),x=y(e,n),N=E.get(x);if(N)r(t,n,N);else{var D=w?w(_,x,n+"",t,e,E):void 0,O=void 0===D;if(O){var M=d(x),A=!M&&c(x),G=!M&&!A&&g(x);D=x,M||A||G?d(_)?D=_:h(_)?D=a(_):A?(O=!1,D=i(x,!0)):G?(O=!1,D=o(x,!0)):D=[]:p(x)||u(x)?(D=_,u(_)?D=v(_):l(_)&&!f(_)||(D=s(x))):O=!1}O&&(E.set(x,D),m(D,x,b,w,E),E.delete(x)),r(t,n,D)}}},function(t,e,n){(function(t){var r=n(3),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(34)(t))},function(t,e,n){var r=n(158);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(49);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(161),i=n(60),o=n(36);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(4),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(22),i=n(7);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(11),i=n(60),o=n(7),a="[object Object]",s=Function.prototype,u=Object.prototype,d=s.toString,h=u.hasOwnProperty,c=d.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&d.call(n)==c}},function(t,e,n){var r=n(165),i=n(39);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(166),i=n(38);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var d=e[s],h=o?o(n[d],t[d],d,n,t):void 0;void 0===h&&(h=t[d]),a?i(n,d,h):r(n,d,h)}return n}},function(t,e,n){var r=n(38),i=n(10),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(4),i=n(36),o=n(168),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(58),i=n(170)(function(t,e,n,i){r(t,e,n,i)});t.exports=i},function(t,e,n){var r=n(37),i=n(40);t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){t.exports=n(172)},function(t,e,n){var r=n(1);e.connectedComponents=function(t){if(!r(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];var e,n,i=[],o=t.nodes();if(!t.size){for(e=0,n=o.length;e<n;e++)i.push([o[e]]);return i}var a,s,u,d=[],h=new Set;for(e=0,n=o.length;e<n;e++)if(s=o[e],!h.has(s))for(h.add(s),a=[s],i.push(a),d.push.apply(d,t.neighbors(s));d.length;)u=d.pop(),h.has(u)||(h.add(u),a.push(u),d.push.apply(d,t.neighbors(u)));return i},e.stronglyConnectedComponents=function(t){if(!r(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if("undirected"===t.type)throw new Error("graphology-components: the given graph is undirected");var e,n,i=t.nodes(),o=[];if(!t.size){for(e=0,n=i.length;e<n;e++)o.push([i[e]]);return o}var a,s,u,d=1,h=[],c=[],f=new Map,l=new Set,p=function(e){var n,r,i=t.outNeighbors(e).concat(t.undirectedNeighbors(e));f.set(e,d++),h.push(e),c.push(e);for(var u=0,g=i.length;u<g;u++)if(n=i[u],f.has(n)){if(r=f.get(n),!l.has(n))for(;f.get(h[h.length-1])>r;)h.pop()}else p(n);if(f.get(h[h.length-1])===f.get(e)){a=[];do{s=c.pop(),a.push(s),l.add(s)}while(s!==e);o.push(a),h.pop()}};for(e=0,n=i.length;e<n;e++)u=i[e],l.has(u)||p(u);return o}},function(t,e,n){t.exports=n(174)},function(t,e,n){e.classic=n(175),e.random=n(185),e.small=n(189),e.social=n(191)},function(t,e,n){e.complete=n(176),e.empty=n(182),e.ladder=n(183),e.path=n(184)},function(t,e,n){var r=n(2),i=n(62),o=n(13);t.exports=function(t,e){if(!r(t))throw new Error("graphology-generators/classic/complete: invalid Graph constructor.");for(var n=new t,a=0;a<e;a++)n.addNode(a);if(e>1)for(var s,u,d=i(o(e),2);!(u=d.next()).done;)s=u.value,"directed"!==n.type&&n.addUndirectedEdge(s[0],s[1]),"undirected"!==n.type&&(n.addDirectedEdge(s[0],s[1]),n.addDirectedEdge(s[1],s[0]));return n}},function(t,e,n){var r=n(178),i=n(40),o=n(179);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,i,o){for(var a=-1,s=r(n((e-t)/(i||1)),0),u=Array(s);s--;)u[o?s:++a]=t,t+=i;return u}},function(t,e,n){var r=n(180),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(4),i=n(181),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||d.test(t)?h(t.slice(2),n?2:8):s.test(t)?o:+t}},function(t,e,n){var r=n(11),i=n(7),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(2),i=n(13);t.exports=function(t,e){if(!r(t))throw new Error("graphology-generators/classic/empty: invalid Graph constructor.");var n=new t;return n.addNodesFrom(i(e)),n}},function(t,e,n){var r=n(2),i=n(41),o=n(13);t.exports=function(t,e){if(!r(t))throw new Error("graphology-generators/classic/ladder: invalid Graph constructor.");var n=new t;i(n,o(e)),i(n,o(e,2*e));for(var a=0;a<e;a++)n.addEdge(a,a+e);return n}},function(t,e,n){var r=n(2),i=n(41),o=n(13);t.exports=function(t,e){if(!r(t))throw new Error("graphology-generators/classic/path: invalid Graph constructor.");var n=new t;return i(n,o(e)),n}},function(t,e,n){e.clusters=n(186),e.erdosRenyi=n(187),e.girvanNewman=n(188)},function(t,e,n){var r=n(2);t.exports=function(t,e){if(!r(t))throw new Error("graphology-generators/random/clusters: invalid Graph constructor.");var n="clusterDensity"in(e=e||{})?e.clusterDensity:.5,i=e.rng||Math.random,o=e.order,a=e.size,s=e.clusters;if("number"!=typeof n||n>1||n<0)throw new Error("graphology-generators/random/clusters: `clusterDensity` option should be a number between 0 and 1.");if("function"!=typeof i)throw new Error("graphology-generators/random/clusters: `rng` option should be a function.");if("number"!=typeof o||o<=0)throw new Error("graphology-generators/random/clusters: `order` option should be a positive number.");if("number"!=typeof a||a<=0)throw new Error("graphology-generators/random/clusters: `size` option should be a positive number.");if("number"!=typeof s||s<=0)throw new Error("graphology-generators/random/clusters: `clusters` option should be a positive number.");var u=new t;if(!o)return u;var d,h,c,f,l,p,g=new Array(s);for(c=0;c<s;c++)g[c]=[];for(c=0;c<o;c++)d=i()*s|0,u.addNode(c,{cluster:d}),g[d].push(c);if(!a)return u;for(c=0;c<a;c++){if(i()<1-n){f=i()*o|0;do{l=i()*o|0}while(f===l)}else{if(!(p=(h=g[d=i()*s|0]).length)||p<2)continue;f=h[i()*p|0];do{l=h[i()*p|0]}while(f===l)}u.multi?u.addEdge(f,l):u.mergeEdge(f,l)}return u}},function(t,e,n){var r=n(2),i=n(62),o=n(13),a=n(64);function s(t,e){if(!r(t))throw new Error("graphology-generators/random/erdos-renyi: invalid Graph constructor.");var n=e.order,s=e.probability,u=e.rng||Math.random,d=new t;"number"==typeof e.approximateSize&&(s=(0,a[d.type+"Density"])(n,e.approximateSize));if("number"!=typeof n||n<=0)throw new Error("graphology-generators/random/erdos-renyi: invalid `order`. Should be a positive number.");if("number"!=typeof s||s<0||s>1)throw new Error("graphology-generators/random/erdos-renyi: invalid `probability`. Should be a number between 0 and 1. Or maybe you gave an `approximateSize` exceeding the graph's density.");if("function"!=typeof u)throw new Error("graphology-generators/random/erdos-renyi: invalid `rng`. Should be a function.");for(var h=0;h<n;h++)d.addNode(h);if(s<=0)return d;if(n>1)for(var c,f,l=i(o(n),2);!(f=l.next()).done;)c=f.value,"directed"!==d.type&&u()<s&&d.addUndirectedEdge(c[0],c[1]),"undirected"!==d.type&&(u()<s&&d.addDirectedEdge(c[0],c[1]),u()<s&&d.addDirectedEdge(c[1],c[0]));return d}s.sparse=function(t,e){if(!r(t))throw new Error("graphology-generators/random/erdos-renyi: invalid Graph constructor.");var n=e.order,i=e.probability,o=e.rng||Math.random,s=new t;if("number"==typeof e.approximateSize&&(i=(0,a[s.type+"Density"])(n,e.approximateSize)),"number"!=typeof n||n<=0)throw new Error("graphology-generators/random/erdos-renyi: invalid `order`. Should be a positive number.");if("number"!=typeof i||i<0||i>1)throw new Error("graphology-generators/random/erdos-renyi: invalid `probability`. Should be a number between 0 and 1. Or maybe you gave an `approximateSize` exceeding the graph's density.");if("function"!=typeof o)throw new Error("graphology-generators/random/erdos-renyi: invalid `rng`. Should be a function.");for(var u=0;u<n;u++)s.addNode(u);if(i<=0)return s;var d,h=-1,c=Math.log(1-i);if("undirected"!==s.type)for(d=0;d<n;){for(d===(h+=1+(Math.log(1-o())/c|0))&&h++;d<n&&n<=h;)++d==(h-=n)&&h++;d<n&&s.addDirectedEdge(d,h)}if(h=-1,"directed"!==s.type)for(d=1;d<n;){for(h+=1+(Math.log(1-o())/c|0);h>=d&&d<n;)h-=d,d++;d<n&&s.addUndirectedEdge(d,h)}return s},t.exports=s},function(t,e,n){var r=n(2);t.exports=function(t,e){if(!r(t))throw new Error("graphology-generators/random/girvan-newman: invalid Graph constructor.");var n=e.zOut,i=e.rng||Math.random;if("number"!=typeof n)throw new Error("graphology-generators/random/girvan-newman: invalid `zOut`. Should be a number.");if("function"!=typeof i)throw new Error("graphology-generators/random/girvan-newman: invalid `rng`. Should be a function.");var o,a,s,u=n/96,d=(16-96*u)/31,h=new t;for(a=0;a<128;a++)h.addNode(a);for(a=0;a<128;a++)for(s=a+1;s<128;s++)o=i(),a%4==s%4?o<d&&h.addEdge(a,s):o<u&&h.addEdge(a,s);return h}},function(t,e,n){e.krackhardtKite=n(190)},function(t,e,n){var r=n(2),i=n(65),o=[["Andre","Beverley","Carol","Diane","Fernando"],["Beverley","Andre","Ed","Garth"],["Carol","Andre","Diane","Fernando"],["Diane","Andre","Beverley","Carol","Ed","Fernando","Garth"],["Ed","Beverley","Diane","Garth"],["Fernando","Andre","Carol","Diane","Garth","Heather"],["Garth","Beverley","Diane","Ed","Fernando","Heather"],["Heather","Fernando","Garth","Ike"],["Ike","Heather","Jane"],["Jane","Ike"]];t.exports=function(t){if(!r(t))throw new Error("graphology-generators/social/krackhardt-kite: invalid Graph constructor.");var e,n,a=new t;for(e=0,n=o.length;e<n;e++)i(a,o[e]);return a}},function(t,e,n){e.florentineFamilies=n(192),e.karateClub=n(193)},function(t,e,n){var r=n(2),i=[["Acciaiuoli","Medici"],["Castellani","Peruzzi"],["Castellani","Strozzi"],["Castellani","Barbadori"],["Medici","Barbadori"],["Medici","Ridolfi"],["Medici","Tornabuoni"],["Medici","Albizzi"],["Medici","Salviati"],["Salviati","Pazzi"],["Peruzzi","Strozzi"],["Peruzzi","Bischeri"],["Strozzi","Ridolfi"],["Strozzi","Bischeri"],["Ridolfi","Tornabuoni"],["Tornabuoni","Guadagni"],["Albizzi","Ginori"],["Albizzi","Guadagni"],["Bischeri","Guadagni"],["Guadagni","Lamberteschi"]];t.exports=function(t){if(!r(t))throw new Error("graphology-generators/social/florentine-families: invalid Graph constructor.");var e,n,o,a=new t;for(n=0,o=i.length;n<o;n++)e=i[n],a.mergeEdge(e[0],e[1]);return a}},function(t,e,n){var r=n(2),i=["0111111110111100010101000000000100","1011000100000100010101000000001000","1101000111000100000000000001100010","1110000100001100000000000000000000","1000001000100000000000000000000000","1000001000100000100000000000000000","1000110000000000100000000000000000","1111000000000000000000000000000000","1010000000000000000000000000001011","0010000000000000000000000000000001","1000110000000000000000000000000000","1000000000000000000000000000000000","1001000000000000000000000000000000","1111000000000000000000000000000001","0000000000000000000000000000000011","0000000000000000000000000000000011","0000011000000000000000000000000000","1100000000000000000000000000000000","0000000000000000000000000000000011","1100000000000000000000000000000001","0000000000000000000000000000000011","1100000000000000000000000000000000","0000000000000000000000000000000011","0000000000000000000000000101010011","0000000000000000000000000101000100","0000000000000000000000011000000100","0000000000000000000000000000010001","0010000000000000000000011000000001","0010000000000000000000000000000101","0000000000000000000000010010000011","0100000010000000000000000000000011","1000000000000000000000001100100011","0010000010000011001010110000011101","0000000011000111001110110011111110"],o=new Set([0,1,2,3,4,5,6,7,8,10,11,12,13,16,17,19,21]);t.exports=function(t){if(!r(t))throw new Error("graphology-generators/social/karate: invalid Graph constructor.");for(var e,n,a,s,u,d,h=new t,c=0;c<34;c++)e=o.has(c)?"Mr. Hi":"Officer",h.addNode(c,{club:e});for(a=0,u=i.length;a<u;a++)for(s=a+1,d=(n=i[a].split("")).length;s<d;s++)+n[s]&&h.addEdgeWithKey(a+"->"+s,a,s);return h}},function(t,e,n){t.exports=n(195)},function(t,e,n){var r=n(23),i=n(1),o={attributes:{authority:"authority",hub:"hub",weight:"weight"},maxIterations:100,normalize:!0,tolerance:1e-8};function a(t,e){var n,r,i=Object.create(null);for(n=0,r=t.length;n<r;n++)i[t[n]]=e;return i}function s(t){var e=0;for(var n in t)e+=t[n];return e}function u(t,e,n){if(!i(e))throw new Error("graphology-hits: the given graph is not a valid graphology instance.");if(e.multi)throw new Error("graphology-hits: the HITS algorithm does not work with MultiGraphs.");n=r(n,o);var u,d,h,c,f,l,p,g,y,v,b,m,w,E=e.order,_=e.size,x=e.nodes(),N=e.edges(),D=a(x,1/E),O={},M=!1;for(b=0;b<_;b++)O[f=N[b]]=e.getEdgeAttribute(f,n.attributes.weight)||1;for(l=0;l<n.maxIterations;l++){for(u=D,D=a(x,0),d=a(x,0),g=0,p=0,b=0;b<E;b++)for(h=x[b],m=0,w=(N=e.outEdges(h).concat(e.undirectedEdges(h))).length;m<w;m++)f=N[m],d[c=e.opposite(h,f)]+=u[h]*O[f],d[c]>p&&(p=d[c]);for(b=0;b<E;b++)for(h=x[b],m=0,w=(N=e.outEdges(h).concat(e.undirectedEdges(h))).length;m<w;m++)f=N[m],c=e.opposite(h,f),D[h]+=d[c]*O[f],D[c]>g&&(g=D[c]);for(h in v=1/g,D)D[h]*=v;for(h in v=1/p,d)d[h]*=v;for(h in y=0,D)y+=Math.abs(D[h]-u[h]);if(y<n.tolerance){M=!0;break}}if(n.normalize){for(h in v=1/s(d),d)d[h]*=v;for(h in v=1/s(D),D)D[h]*=v}if(t)for(b=0;b<E;b++)h=x[b],e.setNodeAttribute(h,n.attributes.authority,d[h]),e.setNodeAttribute(h,n.attributes.hub,D[h]);return{converged:M,hubs:D,authorities:d}}var d=u.bind(null,!1);d.assign=u.bind(null,!0),t.exports=d},function(t,e,n){t.exports=n(197)},function(t,e,n){var r=n(198);e.random=r},function(t,e,n){var r=n(23),i=n(24),o={attributes:{x:"x",y:"y"},center:.5,rng:Math.random,scale:1};function a(t,e,n){if(!i(e))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");n=r(n,o);var a,s,u,d,h={},c=e.nodes(),f=n.center,l=n.rng,p=n.scale,g=c.length;for(d=0;d<g;d++)a=c[d],s=l()*p,u=l()*p,.5!==f&&(s+=f-.5*p,u+=f-.5*p),h[a]={x:s,y:u},t&&(e.setNodeAttribute(a,n.attributes.x,s),e.setNodeAttribute(a,n.attributes.y,u));return h}var s=a.bind(null,!1);s.assign=a.bind(null,!0),t.exports=s},function(t,e,n){t.exports=n(200)},function(t,e,n){var r=n(24),i=n(201),o=n(202),a=n(203);function s(t,e,n){if(!r(e))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");"number"==typeof n&&(n={iterations:n});var s=n.iterations;if("number"!=typeof s)throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(s<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var u=o.assign({},a,n.settings),d=o.validateSettings(u);if(d)throw new Error("graphology-layout-forceatlas2: "+d.message);var h,c=o.graphToByteArrays(e);for(h=0;h<s;h++)i(u,c.nodes,c.edges);if(!t)return o.collectLayoutChanges(e,c.nodes);o.applyLayoutChanges(e,c.nodes)}var u=s.bind(null,!1);u.assign=s.bind(null,!0),t.exports=u},function(t,e){t.exports=function(t,e,n){var r,i,o,a,s,u,d,h,c,f,l,p,g,y,v,b,m,w,E,_=e.length,x=n.length,N=[];for(o=0;o<_;o+=10)e[o+4]=e[o+2],e[o+5]=e[o+3],e[o+2]=0,e[o+3]=0;if(t.outboundAttractionDistribution){for(c=0,o=0;o<_;o+=10)c+=e[o+6];c/=_}if(t.barnesHutOptimize){var D,O,M,A=1/0,G=-1/0,S=1/0,R=-1/0;for(o=0;o<_;o+=10)A=Math.min(A,e[o+0]),G=Math.max(G,e[o+0]),S=Math.min(S,e[o+1]),R=Math.max(R,e[o+1]);var I=G-A,k=R-S;for(I>k?R=(S-=(I-k)/2)+I:G=(A-=(k-I)/2)+k,N[0]=-1,N[1]=(A+G)/2,N[2]=(S+R)/2,N[3]=Math.max(G-A,R-S),N[4]=-1,N[5]=-1,N[6]=0,N[7]=0,N[8]=0,r=1,o=0;o<_;o+=10)for(i=0,M=3;;){if(!(N[i+5]>=0)){if(N[i+0]<0){N[i+0]=o;break}if(N[i+5]=9*r,d=N[i+3]/2,N[(h=N[i+5])+0]=-1,N[h+1]=N[i+1]-d,N[h+2]=N[i+2]-d,N[h+3]=d,N[h+4]=h+9,N[h+5]=-1,N[h+6]=0,N[h+7]=0,N[h+8]=0,N[(h+=9)+0]=-1,N[h+1]=N[i+1]-d,N[h+2]=N[i+2]+d,N[h+3]=d,N[h+4]=h+9,N[h+5]=-1,N[h+6]=0,N[h+7]=0,N[h+8]=0,N[(h+=9)+0]=-1,N[h+1]=N[i+1]+d,N[h+2]=N[i+2]-d,N[h+3]=d,N[h+4]=h+9,N[h+5]=-1,N[h+6]=0,N[h+7]=0,N[h+8]=0,N[(h+=9)+0]=-1,N[h+1]=N[i+1]+d,N[h+2]=N[i+2]+d,N[h+3]=d,N[h+4]=N[i+4],N[h+5]=-1,N[h+6]=0,N[h+7]=0,N[h+8]=0,r+=4,D=e[N[i+0]+0]<N[i+1]?e[N[i+0]+1]<N[i+2]?N[i+5]:N[i+5]+9:e[N[i+0]+1]<N[i+2]?N[i+5]+18:N[i+5]+27,N[i+6]=e[N[i+0]+6],N[i+7]=e[N[i+0]+0],N[i+8]=e[N[i+0]+1],N[D+0]=N[i+0],N[i+0]=-1,D===(O=e[o+0]<N[i+1]?e[o+1]<N[i+2]?N[i+5]:N[i+5]+9:e[o+1]<N[i+2]?N[i+5]+18:N[i+5]+27)){if(M--){i=D;continue}M=3;break}N[O+0]=o;break}D=e[o+0]<N[i+1]?e[o+1]<N[i+2]?N[i+5]:N[i+5]+9:e[o+1]<N[i+2]?N[i+5]+18:N[i+5]+27,N[i+7]=(N[i+7]*N[i+6]+e[o+0]*e[o+6])/(N[i+6]+e[o+6]),N[i+8]=(N[i+8]*N[i+6]+e[o+1]*e[o+6])/(N[i+6]+e[o+6]),N[i+6]+=e[o+6],i=D}}if(t.barnesHutOptimize)for(f=t.scalingRatio,o=0;o<_;o+=10)for(i=0;;)if(N[i+5]>=0){if(y=Math.sqrt(Math.pow(e[o+0]-N[i+7],2)+Math.pow(e[o+1]-N[i+8],2)),2*N[i+3]/y<t.barnesHutTheta){if(l=e[o+0]-N[i+7],p=e[o+1]-N[i+8],t.adjustSizes?y>0?(v=f*e[o+6]*N[i+6]/y/y,e[o+2]+=l*v,e[o+3]+=p*v):y<0&&(v=-f*e[o+6]*N[i+6]/y,e[o+2]+=l*v,e[o+3]+=p*v):y>0&&(v=f*e[o+6]*N[i+6]/y/y,e[o+2]+=l*v,e[o+3]+=p*v),N[i+4]<0)break;i=N[i+4];continue}i=N[i+5]}else{if(N[i+0]>=0&&N[i+0]!==o&&(l=e[o+0]-e[N[i+0]+0],p=e[o+1]-e[N[i+0]+1],y=Math.sqrt(l*l+p*p),t.adjustSizes?y>0?(v=f*e[o+6]*e[N[i+0]+6]/y/y,e[o+2]+=l*v,e[o+3]+=p*v):y<0&&(v=-f*e[o+6]*e[N[i+0]+6]/y,e[o+2]+=l*v,e[o+3]+=p*v):y>0&&(v=f*e[o+6]*e[N[i+0]+6]/y/y,e[o+2]+=l*v,e[o+3]+=p*v)),N[i+4]<0)break;i=N[i+4]}else for(f=t.scalingRatio,a=0;a<_;a+=10)for(s=0;s<a;s+=10)l=e[a+0]-e[s+0],p=e[a+1]-e[s+1],t.adjustSizes?(y=Math.sqrt(l*l+p*p)-e[a+8]-e[s+8])>0?(v=f*e[a+6]*e[s+6]/y/y,e[a+2]+=l*v,e[a+3]+=p*v,e[s+2]+=l*v,e[s+3]+=p*v):y<0&&(v=100*f*e[a+6]*e[s+6],e[a+2]+=l*v,e[a+3]+=p*v,e[s+2]-=l*v,e[s+3]-=p*v):(y=Math.sqrt(l*l+p*p))>0&&(v=f*e[a+6]*e[s+6]/y/y,e[a+2]+=l*v,e[a+3]+=p*v,e[s+2]-=l*v,e[s+3]-=p*v);for(h=t.gravity/t.scalingRatio,f=t.scalingRatio,o=0;o<_;o+=10)v=0,l=e[o+0],p=e[o+1],y=Math.sqrt(Math.pow(l,2)+Math.pow(p,2)),t.strongGravityMode?y>0&&(v=f*e[o+6]*h):y>0&&(v=f*e[o+6]*h/y),e[o+2]-=l*v,e[o+3]-=p*v;for(f=1*(t.outboundAttractionDistribution?c:1),u=0;u<x;u+=3)a=n[u+0],s=n[u+1],d=n[u+2],g=Math.pow(d,t.edgeWeightInfluence),l=e[a+0]-e[s+0],p=e[a+1]-e[s+1],t.adjustSizes?(y=Math.sqrt(Math.pow(l,2)+Math.pow(p,2)-e[a+8]-e[s+8]),t.linLogMode?t.outboundAttractionDistribution?y>0&&(v=-f*g*Math.log(1+y)/y/e[a+6]):y>0&&(v=-f*g*Math.log(1+y)/y):t.outboundAttractionDistribution?y>0&&(v=-f*g/e[a+6]):y>0&&(v=-f*g)):(y=Math.sqrt(Math.pow(l,2)+Math.pow(p,2)),t.linLogMode?t.outboundAttractionDistribution?y>0&&(v=-f*g*Math.log(1+y)/y/e[a+6]):y>0&&(v=-f*g*Math.log(1+y)/y):t.outboundAttractionDistribution?(y=1,v=-f*g/e[a+6]):(y=1,v=-f*g)),y>0&&(e[a+2]+=l*v,e[a+3]+=p*v,e[s+2]-=l*v,e[s+3]-=p*v);if(t.adjustSizes)for(o=0;o<_;o+=10)e[o+9]||((b=Math.sqrt(Math.pow(e[o+2],2)+Math.pow(e[o+3],2)))>10&&(e[o+2]=10*e[o+2]/b,e[o+3]=10*e[o+3]/b),m=e[o+6]*Math.sqrt((e[o+4]-e[o+2])*(e[o+4]-e[o+2])+(e[o+5]-e[o+3])*(e[o+5]-e[o+3])),w=Math.sqrt((e[o+4]+e[o+2])*(e[o+4]+e[o+2])+(e[o+5]+e[o+3])*(e[o+5]+e[o+3]))/2,E=.1*Math.log(1+w)/(1+Math.sqrt(m)),e[o+0]=e[o+0]+e[o+2]*(E/t.slowDown),e[o+1]=e[o+1]+e[o+3]*(E/t.slowDown));else for(o=0;o<_;o+=10)e[o+9]||(m=e[o+6]*Math.sqrt((e[o+4]-e[o+2])*(e[o+4]-e[o+2])+(e[o+5]-e[o+3])*(e[o+5]-e[o+3])),w=Math.sqrt((e[o+4]+e[o+2])*(e[o+4]+e[o+2])+(e[o+5]+e[o+3])*(e[o+5]+e[o+3]))/2,E=e[o+7]*Math.log(1+w)/(1+Math.sqrt(m)),e[o+7]=Math.min(1,Math.sqrt(E*(Math.pow(e[o+2],2)+Math.pow(e[o+3],2))/(1+Math.sqrt(m)))),e[o+0]=e[o+0]+e[o+2]*(E/t.slowDown),e[o+1]=e[o+1]+e[o+3]*(E/t.slowDown));return{}}},function(t,e){e.assign=function(t){t=t||{};var e,n,r,i=Array.prototype.slice.call(arguments).slice(1);for(e=0,r=i.length;e<r;e++)if(i[e])for(n in i[e])t[n]=i[e][n];return t},e.validateSettings=function(t){return"linLogMode"in t&&"boolean"!=typeof t.linLogMode?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in t&&"boolean"!=typeof t.outboundAttractionDistribution?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in t&&"boolean"!=typeof t.adjustSizes?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in t&&"number"!=typeof t.edgeWeightInfluence&&t.edgeWeightInfluence<0?{message:"the `edgeWeightInfluence` setting should be a number >= 0."}:"scalingRatio"in t&&"number"!=typeof t.scalingRatio&&t.scalingRatio<0?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in t&&"boolean"!=typeof t.strongGravityMode?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in t&&"number"!=typeof t.gravity&&t.gravity<0?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in t&&"number"!=typeof t.slowDown&&t.slowDown<0?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in t&&"boolean"!=typeof t.barnesHutOptimize?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in t&&"number"!=typeof t.barnesHutTheta&&t.barnesHutTheta<0?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},e.graphToByteArrays=function(t){var e,n,r=t.nodes(),i=t.edges(),o=r.length,a=i.length,s={},u=new Float32Array(10*o),d=new Float32Array(3*a);for(e=n=0;e<o;e++)s[r[e]]=n,u[n]=t.getNodeAttribute(r[e],"x"),u[n+1]=t.getNodeAttribute(r[e],"y"),u[n+2]=0,u[n+3]=0,u[n+4]=0,u[n+5]=0,u[n+6]=1+t.degree(r[e]),u[n+7]=1,u[n+8]=t.getNodeAttribute(r[e],"size")||1,u[n+9]=0,n+=10;for(e=n=0;e<a;e++)d[n]=s[t.source(i[e])],d[n+1]=s[t.target(i[e])],d[n+2]=t.getEdgeAttribute(i[e],"weight")||0,n+=3;return{nodes:u,edges:d}},e.applyLayoutChanges=function(t,e){for(var n=t.nodes(),r=0,i=0,o=e.length;r<o;r+=10)t.setNodeAttribute(n[i],"x",e[r]),t.setNodeAttribute(n[i],"y",e[r+1]),i++},e.collectLayoutChanges=function(t,e){for(var n=t.nodes(),r=Object.create(null),i=0,o=0,a=e.length;i<a;i+=10)r[n[o]]={x:e[i],y:e[i+1]},o++;return r}},function(t,e){t.exports={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}},function(t,e,n){t.exports=n(205)},function(t,e,n){e.centrality=n(206),e.density=n(64),e.extent=n(25),e.modularity=n(213),e.weightedDegree=n(214),e.weightedSize=n(215)},function(t,e,n){e.betweenness=n(207),e.degree=n(212)},function(t,e,n){var r=n(1),i=n(66),o=n(68),a=n(69),s={attributes:{centrality:"beetweennessCentrality",weight:"weight"},normalized:!0,weighted:!1};function u(t,e,n){if(!r(e))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");var u,d,h,c,f,l,p,g,y,v,b,m,w,E={},_=(n=a({},n,s)).attributes.weight,x=n.attributes.centrality,N=n.normalized,D=n.weighted?o.brandes:i.brandes,O=e.nodes();for(g=0,v=O.length;g<v;g++)E[O[g]]=0;for(g=0,v=O.length;g<v;g++){for(h=(d=D(e,u=O[g],_))[0],c=d[1],f=d[2],l={},y=0,b=h.length;y<b;y++)l[h[y]]=0;for(;h.length;){for(p=(1+l[w=h.pop()])/f[w],y=0,b=c[w].length;y<b;y++)l[m=c[w][y]]+=f[m]*p;w!==u&&(E[w]+=l[w])}}var M=e.order,A=null;if(null!==(A=N?M<=2?null:1/((M-1)*(M-2)):"undirected"===e.type?.5:null))for(u in E)E[u]*=A;if(t)for(u in E)e.setNodeAttribute(u,x,E[u]);return E}var d=u.bind(null,!1);d.assign=u.bind(null,!0),t.exports=d},function(t,e,n){var r=n(63),i=n(67);function o(){this.clear()}o.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},o.prototype.enqueue=function(t){return this.items.push(t),++this.size},o.prototype.dequeue=function(){if(this.size){var t=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,t}},o.prototype.peek=function(){if(this.size)return this.items[this.offset]},o.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var n=this.offset,r=0,i=this.items.length;n<i;n++,r++)t.call(e,this.items[n],r,this)},o.prototype.toArray=function(){return this.items.slice(this.offset)},o.prototype.values=function(){var t=this.items,e=this.offset;return new r(function(){if(e>=t.length)return{done:!0};var n=t[e];return e++,{value:n,done:!1}})},o.prototype.entries=function(){var t=this.items,e=this.offset,n=0;return new r(function(){if(e>=t.length)return{done:!0};var r=t[e];return e++,{value:[n++,r],done:!1}})},"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.values),o.prototype.toString=function(){return this.toArray().join(",")},o.prototype.toJSON=function(){return this.toArray()},o.prototype.inspect=function(){var t=this.toArray();return Object.defineProperty(t,"constructor",{value:o,enumerable:!1}),t},o.from=function(t){var e=new o;return i(t,function(t){e.enqueue(t)}),e},o.of=function(){return o.from(arguments)},t.exports=o},function(t,e){var n=Math.pow(2,8)-1,r=Math.pow(2,16)-1,i=Math.pow(2,32)-1;e.getPointerArray=function(t){var e=t-1;return e<=n?Uint8Array:e<=r?Uint16Array:e<=i?Uint32Array:Float64Array},e.getNumberType=function(t){return t===(0|t)?-1===Math.sign(t)?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var o={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(t,n){var r,i,a,s,u,d=null,h=0;for(s=0,u=t.length;s<u;s++)a=n?n(t[s]):t[s],i=e.getNumberType(a),(r=o[i.name])>h&&(h=r,d=i);return d},e.isTypedArray=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)},e.concat=function(){var t,e,n,r=0;for(t=0,n=arguments.length;t<n;t++)r+=arguments[t].length;var i=new arguments[0].constructor(r);for(t=0,e=0;t<n;t++)i.set(arguments[t],e),e+=arguments[t].length;return i}},function(t,e,n){var r=n(211),i=n(67),o=r.DEFAULT_COMPARATOR,a=r.reverseComparator;function s(t){if(this.clear(),this.comparator=t||o,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function u(t){if(this.clear(),this.comparator=t||o,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.");this.comparator=a(this.comparator)}s.prototype.clear=function(){this.items=[],this.size=0},s.prototype.push=function(t){return this.items.push(t),function(t,e,n){for(var r=e[n],i=(n-1)/2|0;n>0&&t(e[i],r)>0;)e[n]=e[i],e[i]=r,i=((n=i)-1)/2|0}(this.comparator,this.items,this.size),++this.size},s.prototype.peek=function(){return this.items[0]},s.prototype.pop=function(){if(this.size){var t=this.items[0],e=this.items.pop();return this.size--,this.size&&(this.items[0]=e,function(t,e,n){var r,i=e.length,o=e[n],a=2*n+1,s=2*n+2;for(r=s>=i?a>=i?-1:a:t(e[a],e[s])<=0?a:s;r>=0&&t(e[n],e[r])>0;)e[n]=e[r],e[r]=o,a=2*(n=r)+1,r=(s=2*n+2)>=i?a>=i?-1:a:t(e[a],e[s])<=0?a:s}(this.comparator,this.items,0)),t}},s.prototype.inspect=function(){var t={size:this.size};return this.items.length&&(t.top=this.items[0]),Object.defineProperty(t,"constructor",{value:s,enumerable:!1}),t},u.prototype=s.prototype,s.from=function(t,e){var n=new s(e);return i(t,function(t){n.push(t)}),n},u.from=function(t,e){var n=new u(e);return i(t,function(t){n.push(t)}),n},s.MinHeap=s,s.MaxHeap=u,t.exports=s},function(t,e){e.DEFAULT_COMPARATOR=function(t,e){return t<e?-1:t>e?1:0},e.reverseComparator=function(t){return function(e,n){return t(n,e)}}},function(t,e,n){var r=n(1);function i(t,e,n,i){var o=e+"Centrality";if(!r(n))throw new Error("graphology-centrality/"+o+": the given graph is not a valid graphology instance.");if("degree"!==e&&"undirected"===n.type)throw new Error("graphology-centrality/"+o+": cannot compute "+e+" centrality on an undirected graph.");var a=(i=i||{}).attribute||o,s=n.order,u=n.nodes(),d=n[e].bind(n),h={};if(0===s)return t?void 0:h;var c,f,l,p=1/(s-1);for(l=0;l<s;l++)f=d(c=u[l])*p,t?n.setNodeAttribute(c,a,f):h[c]=f;return t?void 0:h}var o=i.bind(null,!1,"degree"),a=i.bind(null,!1,"inDegree"),s=i.bind(null,!1,"outDegree");o.assign=i.bind(null,!0,"degree"),a.assign=i.bind(null,!0,"inDegree"),s.assign=i.bind(null,!0,"outDegree"),o.degreeCentrality=o,o.inDegreeCentrality=a,o.outDegreeCentrality=s,t.exports=o},function(t,e,n){var r=n(23),i=n(1),o={attributes:{community:"community",weight:"weight"}};t.exports=function(t,e){if(!i(t))throw new Error("graphology-metrics/modularity: the given graph is not a valid graphology instance.");if(t.multi)throw new Error("graphology-metrics/modularity: multi graphs are not handled.");if(!t.size)throw new Error("graphology-metrics/modularity: the given graph has no edges.");e=r({},e,o);var n,a,s,u=t.nodes(),d=t.edges();if("object"==typeof e.communities)n=e.communities;else for(n={},a=0,s=u.length;a<s;a++)n[u[a]]=t.getNodeAttribute(u[a],e.attributes.community);var h,c,f,l,p,g,y,v,b=0,m=0,w={},E={};for(a=0,s=d.length;a<s;a++)if(l=d[a],(c=(h=t.extremities(l))[0])!==(f=h[1])){if(p=n[c],g=n[f],void 0===p)throw new Error('graphology-metrics/modularity: the "'+c+'" node is not in the partition.');if(void 0===g)throw new Error('graphology-metrics/modularity: the "'+f+'" node is not in the partition.');y=t.getEdgeAttribute(l,e.attributes.weight),v=isNaN(y)?1:y,E[p]=(E[p]||0)+v,t.undirected(l)||!t.hasDirectedEdge(f,c)?(E[g]=(E[g]||0)+v,b+=2*v):b+=v,t.hasDirectedEdge(f,c)||(v*=2),p===g&&(w[p]=(w[p]||0)+v)}for(p in E)m+=(w[p]||0)-E[p]*E[p]/b;return m/b}},function(t,e,n){var r=n(1),i="weight";function o(t,e,n,o,a){if(!r(o))throw new Error("graphology-metrics/"+t+": the given graph is not a valid graphology instance.");if("edges"!==n&&"undirected"===o.type)throw new Error("graphology-metrics/"+t+": cannot compute "+t+" on an undirected graph.");var s=null;5===arguments.length&&"object"!=typeof arguments[4]?s=arguments[4]:6===arguments.length&&(s=arguments[4],a=arguments[5]);var u,d,h,c,f,l=(a=a||{}).attributes||{},p=l.weight||i,g=l.weightedDegree||t,y=!0===a.averaged;if(s){for(d=0,c=0,f=(u=o[n](s)).length;c<f;c++)"number"==typeof(h=o.getEdgeAttribute(u[c],p))&&(d+=h);return y&&(d/=f||1),e?void o.setNodeAttribute(s,g,d):d}var v,b,m,w=o.nodes(),E={};for(c=0,f=w.length;c<f;c++){for(v=w[c],d=0,b=0,m=(u=o[n](v)).length;b<m;b++)"number"==typeof(h=o.getEdgeAttribute(u[b],p))&&(d+=h);y&&(d/=m||1),e?o.setNodeAttribute(v,g,d):E[v]=d}if(!e)return E}var a=o.bind(null,"weightedDegree",!1,"edges"),s=o.bind(null,"weightedInDegree",!1,"inEdges"),u=o.bind(null,"weightedOutDegree",!1,"outEdges");a.assign=o.bind(null,"weightedDegree",!0,"edges"),s.assign=o.bind(null,"weightedInDegree",!0,"inEdges"),u.assign=o.bind(null,"weightedOutDegree",!0,"outEdges"),a.weightedDegree=a,a.weightedInDegree=s,a.weightedOutDegree=u,t.exports=a},function(t,e,n){var r=n(1);t.exports=function(t,e){if(!r(t))throw new Error("graphology-metrics/weighted-size: the given graph is not a valid graphology instance.");e=e||"weight";var n,i,o,a=t.edges(),s=0;for(i=0,o=a.length;i<o;i++)"number"==typeof(n=t.getEdgeAttribute(a[i],e))&&(s+=n);return s}},function(t,e,n){t.exports=n(217)},function(t,e,n){e.reverse=n(218),e.union=n(219)},function(t,e,n){var r=n(1);t.exports=function(t){if(!r(t))throw new Error("graphology-operators/reverse: invalid graph.");var e=t.emptyCopy();e.importNodes(t.exportNodes()),e.importEdges(t.exportUndirectedEdges());var n,i,o,a,s=t.directedEdges();for(o=0,a=s.length;o<a;o++)i=(n=t.exportEdge(s[o])).source,n.source=n.target,n.target=i,e.importEdge(n);return e}},function(t,e,n){var r=n(1);t.exports=function(t,e){if(!r(t)||!r(e))throw new Error("graphology-operators/union: invalid graph.");if(t.multi!==e.multi)throw new Error("graphology-operators/union: both graph should be simple or multi.");var n=t.copy();return n.import(e,!0),n}},function(t,e,n){t.exports=n(221)},function(t,e,n){var r=n(1),i=n(69),o={attributes:{pagerank:"pagerank",weight:"weight"},alpha:.85,maxIterations:100,tolerance:1e-6,weighted:!1};function a(t,e,n){if(!r(e))throw new Error("graphology-pagerank: the given graph is not a valid graphology instance.");if(e.multi)throw new Error("graphology-pagerank: the pagerank algorithm does not work with MultiGraphs.");var a,s,u,d,h,c,f,l,p,g,y,v,b,m=(n=i(n,o)).attributes.pagerank,w=n.attributes.weight,E=n.alpha,_=n.maxIterations,x=n.tolerance,N=n.weighted,D=e.order,O=1/D,M={},A=[],G=e.nodes(),S={},R={},I=0;for(g=0;g<D;g++){if(M[l=G[g]]=O,N)for(c=0,y=0,b=(a=e.undirectedEdges().concat(e.outEdges(l))).length;y<b;y++)p=a[y],c+=e.getEdgeAttribute(p,w)||1;else c=e.undirectedDegree(l)+e.outDegree(l);R[l]=c,0===c&&A.push(l)}for(a=e.edges(),g=0,v=e.size;g<v;g++)p=a[g],c=R[l=e.source(p)],s=N&&e.getEdgeAttribute(p,w)||1,S[p]=s/c;for(;I<_;){for(f in d=M,M={},d)M[f]=0;for(u=0,g=0,v=A.length;g<v;g++)u+=d[A[g]];for(u*=E,g=0;g<D;g++){for(l=G[g],y=0,b=(a=e.undirectedEdges(l).concat(e.outEdges(l))).length;y<b;y++)p=a[y],M[e.opposite(l,p)]+=E*d[l]*S[p];M[l]+=u*O+(1-E)*O}for(l in h=0,M)h+=Math.abs(M[l]-d[l]);if(h<D*x){if(t)for(l in M)e.setNodeAttribute(l,m,M[l]);return M}I++}throw Error("graphology-pagerank: failed to converge.")}var s=a.bind(null,!1);s.assign=a.bind(null,!0),t.exports=s},function(t,e,n){t.exports=n(223)},function(t,e,n){var r=n(68),i=n(66);i.dijkstra=r,i.unweighted=i,t.exports=i},function(t,e,n){t.exports=n(225)},function(t,e,n){e.isGraph=n(24),e.isGraphConstructor=n(2),e.mergeClique=n(226),e.mergeCycle=n(227),e.mergePath=n(41),e.mergeStar=n(65)},function(t,e){t.exports=function(t,e){var n,r,i,o,a;if(0!==e.length)for(i=0,a=e.length;i<a;i++)for(n=e[i],o=i+1;o<a;o++)r=e[o],t.mergeEdge(n,r)}},function(t,e){t.exports=function(t,e){var n,r,i,o;if(0!==e.length&&(t.mergeNode(e[0]),1!==e.length)){for(i=1,o=e.length;i<o;i++)n=e[i-1],r=e[i],t.mergeEdge(n,r);t.mergeEdge(r,e[0])}}},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var r=n(1),i=n(3),o=n(4),a=n(5);function s(t,e){if(e=e||{},!i(t))throw new Error("graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.");var n=o.assign({},a,e.settings),s=o.validateSettings(n);if(s)throw new Error("graphology-layout-forceatlas2/worker: "+s.message);this.worker=new r,this.graph=t,this.settings=n,this.matrices=null,this.running=!1,this.killed=!1,this.handleMessage=this.handleMessage.bind(this),this.worker.addEventListener("message",this.handleMessage.bind(this))}s.prototype.handleMessage=function(t){if(this.running){var e=new Float32Array(t.data.nodes);o.applyLayoutChanges(this.graph,e),this.matrices.nodes=e,this.askForIterations()}},s.prototype.askForIterations=function(t){var e=this.matrices,n={settings:this.settings,nodes:e.nodes.buffer},r=[e.nodes.buffer];return t&&(n.edges=e.edges.buffer,r.push(e.edges.buffer)),this.worker.postMessage(n,r),this},s.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-forceatlas2/worker.start: layout was killed.");return this.running?this:(this.matrices=o.graphToByteArrays(this.graph),this.running=!0,this.askForIterations(!0),this)},s.prototype.stop=function(){return this.running=!1,this},s.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate()},t.exports=s},function(t,e,n){t.exports=function(){return n(2)("/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Graphology ForceAtlas2 Layout Webworker\n * ========================================\n *\n * Web worker able to run the layout in a separate thread.\n */\nvar iterate = __webpack_require__(1);\n\nvar NODES,\n    EDGES;\n\nself.addEventListener('message', function(event) {\n  var data = event.data;\n\n  NODES = new Float32Array(data.nodes);\n\n  if (data.edges)\n    EDGES = new Float32Array(data.edges);\n\n  // Running the iteration\n  iterate(\n    data.settings,\n    NODES,\n    EDGES\n  );\n\n  // Sending result to supervisor\n  self.postMessage({\n    nodes: NODES.buffer\n  }, [NODES.buffer]);\n});\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0,\n    NODE_Y = 1,\n    NODE_DX = 2,\n    NODE_DY = 3,\n    NODE_OLD_DX = 4,\n    NODE_OLD_DY = 5,\n    NODE_MASS = 6,\n    NODE_CONVERGENCE = 7,\n    NODE_SIZE = 8,\n    NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0,\n    EDGE_TARGET = 1,\n    EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0,\n    REGION_CENTER_X = 1,\n    REGION_CENTER_Y = 2,\n    REGION_SIZE = 3,\n    REGION_NEXT_SIBLING = 4,\n    REGION_FIRST_CHILD = 5,\n    REGION_MASS = 6,\n    REGION_MASS_CENTER_X = 7,\n    REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10,\n    PPE = 3,\n    PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n\n  // Initializing variables\n  var l, r, n, n1, n2, e, w, g;\n\n  var order = NodeMatrix.length,\n      size = EdgeMatrix.length;\n\n  var outboundAttCompensation,\n      coefficient,\n      xDist,\n      yDist,\n      ewc,\n      distance,\n      factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order;\n  }\n\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n\n    // Setting up\n    var minX = Infinity,\n        maxX = -Infinity,\n        minY = Infinity,\n        maxY = -Infinity,\n        q, q2, subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX, dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    }\n    else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            }\n            else {\n\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          }\n          else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            }\n            else {\n\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] * RegionMatrix[r + REGION_MASS] +\n             NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] * RegionMatrix[r + REGION_MASS] +\n             NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        }\n        else {\n\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          }\n          else {\n\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] = RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] = RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] = RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] = RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] = RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] = RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] = RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] = RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              }\n              else {\n\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            }\n            else {\n              if (NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              }\n              else {\n\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] = NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] = NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] = NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              }\n              else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            }\n            else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              }\n              else {\n\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              }\n              else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance = Math.sqrt(\n            (Math.pow(NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X], 2)) +\n            (Math.pow(NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y], 2))\n          );\n\n          if (2 * RegionMatrix[r + REGION_SIZE] / distance < options.barnesHutTheta) {\n\n            // We treat the region as a single body, and we repulse\n\n            xDist = NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist = NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (options.adjustSizes) {\n\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor = coefficient * NodeMatrix[n + NODE_MASS] *\n                  RegionMatrix[r + REGION_MASS] / distance / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n              else if (distance < 0) {\n                factor = -coefficient * NodeMatrix[n + NODE_MASS] *\n                  RegionMatrix[r + REGION_MASS] / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n            else {\n\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor = coefficient * NodeMatrix[n + NODE_MASS] *\n                  RegionMatrix[r + REGION_MASS] / distance / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            if (RegionMatrix[r + REGION_NEXT_SIBLING] < 0)\n              break; // No next sibling: we have finished the tree\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            continue;\n\n          }\n          else {\n\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n\n        }\n        else {\n\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n\n          if (RegionMatrix[r + REGION_NODE] >= 0 && RegionMatrix[r + REGION_NODE] !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n            if (options.adjustSizes) {\n\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor = coefficient * NodeMatrix[n + NODE_MASS] *\n                  NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS] / distance / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n              else if (distance < 0) {\n                factor = -coefficient * NodeMatrix[n + NODE_MASS] *\n                  NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS] / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n            else {\n\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor = coefficient * NodeMatrix[n + NODE_MASS] *\n                  NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS] / distance / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          if (RegionMatrix[r + REGION_NEXT_SIBLING] < 0)\n            break; // No next sibling: we have finished the tree\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n          continue;\n        }\n      }\n    }\n  }\n  else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (options.adjustSizes) {\n\n          //-- Anticollision Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor = coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS] /\n              distance / distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] += xDist * factor;\n            NodeMatrix[n2 + NODE_DY] += yDist * factor;\n          }\n          else if (distance < 0) {\n            factor = 100 * coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n        else {\n\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor = coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS] /\n              distance / distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(\n      Math.pow(xDist, 2) + Math.pow(yDist, 2)\n    );\n\n    if (options.strongGravityMode) {\n\n      //-- Strong gravity\n      if (distance > 0)\n        factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    }\n    else {\n\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = coefficient * NodeMatrix[n + NODE_MASS] * g / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient = 1 *\n    (options.outboundAttractionDistribution ?\n      outboundAttCompensation :\n      1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --\x3e optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (options.adjustSizes) {\n\n      distance = Math.sqrt(\n        (Math.pow(xDist, 2) + Math.pow(yDist, 2)) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE]\n      );\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc * Math.log(1 + distance) /\n            distance /\n            NodeMatrix[n1 + NODE_MASS];\n          }\n        }\n        else {\n\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc * Math.log(1 + distance) / distance;\n          }\n        }\n      }\n      else {\n        if (options.outboundAttractionDistribution) {\n\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc / NodeMatrix[n1 + NODE_MASS];\n          }\n        }\n        else {\n\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    }\n    else {\n\n      distance = Math.sqrt(\n        Math.pow(xDist, 2) + Math.pow(yDist, 2)\n      );\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc * Math.log(1 + distance) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        }\n        else {\n\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = -coefficient * ewc * Math.log(1 + distance) / distance;\n        }\n      }\n      else {\n        if (options.outboundAttractionDistribution) {\n\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc / NodeMatrix[n1 + NODE_MASS];\n        }\n        else {\n\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n\n  // 5) Apply Forces\n  //-----------------\n  var force,\n      swinging,\n      traction,\n      nodespeed;\n\n  // MATH: sqrt and square distances\n  if (options.adjustSizes) {\n\n    for (n = 0; n < order; n += PPN) {\n      if (!NodeMatrix[n + NODE_FIXED]) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n          Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            NodeMatrix[n + NODE_DX] * MAX_FORCE / force;\n          NodeMatrix[n + NODE_DY] =\n            NodeMatrix[n + NODE_DY] * MAX_FORCE / force;\n        }\n\n        swinging = NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n            (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n            (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction = Math.sqrt(\n          (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n          (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n          (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n          (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n        ) / 2;\n\n        nodespeed =\n          0.1 * Math.log(1 + traction) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        NodeMatrix[n + NODE_X] =\n          NodeMatrix[n + NODE_X] + NodeMatrix[n + NODE_DX] *\n          (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] =\n          NodeMatrix[n + NODE_Y] + NodeMatrix[n + NODE_DY] *\n          (nodespeed / options.slowDown);\n      }\n    }\n  }\n  else {\n\n    for (n = 0; n < order; n += PPN) {\n      if (!NodeMatrix[n + NODE_FIXED]) {\n\n        swinging = NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n            (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n            (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction = Math.sqrt(\n          (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n          (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n          (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n          (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n        ) / 2;\n\n        nodespeed = NodeMatrix[n + NODE_CONVERGENCE] *\n          Math.log(1 + traction) / (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] =\n          Math.min(1, Math.sqrt(\n            nodespeed *\n            (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n             Math.pow(NodeMatrix[n + NODE_DY], 2)) /\n            (1 + Math.sqrt(swinging))\n          ));\n\n        // Updating node's positon\n        NodeMatrix[n + NODE_X] =\n          NodeMatrix[n + NODE_X] + NodeMatrix[n + NODE_DX] *\n          (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] =\n          NodeMatrix[n + NODE_Y] + NodeMatrix[n + NODE_DY] *\n          (nodespeed / options.slowDown);\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n\n\n/***/ })\n/******/ ]);",null)}},function(t,e){var n=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),r=r.getBlob()}catch(e){r=new Blob([t])}return new Worker(n.createObjectURL(r))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e){t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNodes&&"boolean"==typeof t.multi}},function(t,e){e.assign=function(t){t=t||{};var e,n,r,i=Array.prototype.slice.call(arguments).slice(1);for(e=0,r=i.length;e<r;e++)if(i[e])for(n in i[e])t[n]=i[e][n];return t},e.validateSettings=function(t){return"linLogMode"in t&&"boolean"!=typeof t.linLogMode?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in t&&"boolean"!=typeof t.outboundAttractionDistribution?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in t&&"boolean"!=typeof t.adjustSizes?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in t&&"number"!=typeof t.edgeWeightInfluence&&t.edgeWeightInfluence<0?{message:"the `edgeWeightInfluence` setting should be a number >= 0."}:"scalingRatio"in t&&"number"!=typeof t.scalingRatio&&t.scalingRatio<0?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in t&&"boolean"!=typeof t.strongGravityMode?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in t&&"number"!=typeof t.gravity&&t.gravity<0?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in t&&"number"!=typeof t.slowDown&&t.slowDown<0?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in t&&"boolean"!=typeof t.barnesHutOptimize?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in t&&"number"!=typeof t.barnesHutTheta&&t.barnesHutTheta<0?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},e.graphToByteArrays=function(t){var e,n,r=t.nodes(),i=t.edges(),o=r.length,a=i.length,s={},u=new Float32Array(10*o),d=new Float32Array(3*a);for(e=n=0;e<o;e++)s[r[e]]=n,u[n]=t.getNodeAttribute(r[e],"x"),u[n+1]=t.getNodeAttribute(r[e],"y"),u[n+2]=0,u[n+3]=0,u[n+4]=0,u[n+5]=0,u[n+6]=1+t.degree(r[e]),u[n+7]=1,u[n+8]=t.getNodeAttribute(r[e],"size")||1,u[n+9]=0,n+=10;for(e=n=0;e<a;e++)d[n]=s[t.source(i[e])],d[n+1]=s[t.target(i[e])],d[n+2]=t.getEdgeAttribute(i[e],"weight")||0,n+=3;return{nodes:u,edges:d}},e.applyLayoutChanges=function(t,e){for(var n=t.nodes(),r=0,i=0,o=e.length;r<o;r+=10)t.setNodeAttribute(n[i],"x",e[r]),t.setNodeAttribute(n[i],"y",e[r+1]),i++},e.collectLayoutChanges=function(t,e){for(var n=t.nodes(),r=Object.create(null),i=0,o=0,a=e.length;i<a;i+=10)r[n[o]]={x:e[i],y:e[i+1]},o++;return r}},function(t,e){t.exports={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}}])})},function(t,e,n){e.parse=n(230),e.write=n(233)},function(t,e,n){var r=n(231);t.exports=r(DOMParser,Document)},function(t,e,n){var r=n(2),i=n(232).cast;function o(t){return t!=t}function a(t,e){var n=t.getElementsByTagName("viz:"+e)[0];return n||(n=t.getElementsByTagNameNS("viz",e)[0]),n||(n=t.getElementsByTagName(e)[0]),n}function s(t){for(var e,n,r,a={},s={},u=0,d=t.length;u<d;u++)a[r=(e=t[u]).getAttribute("id")||e.getAttribute("for")]={id:r,type:e.getAttribute("type")||"string",title:o(+r)?r:e.getAttribute("title")||r},(n=e.getElementsByTagName("default")[0])&&(s[a[r].title]=i(a[r].type,n.textContent));return[a,s]}function u(t,e){var n={},r=e.getAttribute("label"),o=e.getAttribute("weight");r&&(n.label=r),o&&(n.weight=+o);for(var s,u,d=e.getElementsByTagName("attvalue"),h=0,c=d.length;h<c;h++)n[t[u=(s=d[h]).getAttribute("id")||s.getAttribute("for")].title]=i(t[u].type,s.getAttribute("value"));var f,l,p,g=a(e,"color");return g&&(n.color=function(t){var e=t.getAttribute("a"),n=t.getAttribute("r"),r=t.getAttribute("g"),i=t.getAttribute("b");return e?"rgba("+n+","+r+","+i+","+e+")":"rgb("+n+","+r+","+i+")"}(g)),(g=a(e,"size"))&&(n.size=+g.getAttribute("value")),(g=a(e,"position"))&&(f=g.getAttribute("x"),l=g.getAttribute("y"),p=g.getAttribute("z"),f&&(n.x=+f),l&&(n.y=+l),p&&(n.z=+p)),(g=a(e,"shape"))&&(n.shape=g.getAttribute("value")),(g=a(e,"thickness"))&&(n.thickness=+g.getAttribute("value")),n}t.exports=function(t,e){return function(n,i){var o,a,d,h,c,f,l,p,g,y=i;if(!r(n))throw new Error("graphology-gexf/browser/parser: invalid Graph constructor.");if("string"==typeof i&&(y=(new t).parseFromString(i,"application/xml")),!(y instanceof e))throw new Error("graphology-gexf/browser/parser: source should either be a XML document or a string.");var v=y.getElementsByTagName("graph")[0],b=y.getElementsByTagName("meta")[0],m=b&&b.childNodes||[],w=y.getElementsByTagName("node"),E=y.getElementsByTagName("edge"),_=y.getElementsByTagName("attributes"),x=[],N=[];for(p=0,g=_.length;p<g;p++)"node"===(o=_[p]).getAttribute("class")?x=o.getElementsByTagName("attribute"):"edge"===o.getAttribute("class")&&(N=o.getElementsByTagName("attribute"));var D=v.getAttribute("defaultedgetype")||"undirected";"mutual"===D&&(D="undirected");var O=(a=s(x))[0],M=a[1],A=(a=s(N))[0],G=a[1],S=new n({type:E[0]?E[0].getAttribute("type")||D:"mixed",defaultNodeAttributes:M,defaultEdgeAttributes:G}),R=function(t){for(var e,n={},r=0,i=t.length;r<i;r++)"#text"!==(e=t[r]).nodeName&&(n[e.tagName.toLowerCase()]=e.textContent);return n}(m),I=b&&b.getAttribute("lastmodifieddate");for(S.replaceAttributes(R),I&&S.setAttribute("lastModifiedDate",I),p=0,g=w.length;p<g;p++)o=w[p],S.addNode(o.getAttribute("id"),u(O,o));for(p=0,g=E.length;p<g;p++)c=(o=E[p]).getAttribute("id"),d=o.getAttribute("type")||D,f=o.getAttribute("source"),l=o.getAttribute("target"),h=u(A,o),d!==S.type&&"mixed"!==S.type&&S.upgradeToMixed(),!S.multi&&("directed"===d&&S.hasDirectedEdge(f,l)||S.hasUndirectedEdge(f,l))&&S.upgradeToMulti(),c?"directed"===d?S.addDirectedEdgeWithKey(c,f,l,h):S.addUndirectedEdgeWithKey(c,f,l,h):"directed"===d?S.addDirectedEdge(f,l,h):S.addUndirectedEdge(f,l,h);return S}}},function(t,e){e.cast=function(t,e){switch(t){case"boolean":e="true"===e;break;case"integer":case"long":case"float":case"double":e=+e;break;case"liststring":e=e?e.split("|"):[]}return e}},function(t,e,n){var r=n(24),i=n(234),o="UTF-8",a=new Set(["color","size","x","y","z","shape","thickness"]),s=/^\s*rgba?\s*\(/i,u=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)\s*(?:,\s*([.0-9]*))?\)\s*$/;function d(t){if(!t||"string"!=typeof t)return{};if("#"===t[0])return 3===(t=t.slice(1)).length?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)}:{r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)};if(s.test(t)){var e={};return t=t.match(u),e.r=+t[1],e.g=+t[2],e.b=+t[3],t[4]&&(e.a=+t[4]),e}return{}}function h(t,e){var n,r={};for(n in e)"label"===n?r.label=e.label:"edge"===t&&"weight"===n?r.weight=e.weight:a.has(n)?(r.viz=r.viz||{},r.viz[n]=e[n]):(r.attributes=r.attributes||{},r.attributes[n]=e[n]);return r}var c=h.bind(null,"node"),f=h.bind(null,"edge");function l(t){return Array.isArray(t)?"liststring":"boolean"==typeof t?"boolean":"object"==typeof t?"string":"number"==typeof t?t===(0|t)?function(t){return t<=2147483647&&t>=-2147483647}(t)?"integer":"long":"double":"string"}function p(t,e){return"liststring"===t&&Array.isArray(e)?e.join("|"):""+e}function g(t){for(var e,n,r,i={},o=0,a=t.length;o<a;o++)if(e=t[o].attributes)for(r in e)n=l(e[r]),i[r]?"integer"===i[r]&&"long"===n?i[r]=n:i[r]!==n&&(i[r]="string"):i[r]=n;return i}function y(t,e,n){var r;if(Object.keys(e).length){for(r in t.startElement("attributes"),t.writeAttribute("class",n),e)t.startElement("attribute"),t.writeAttribute("id",r),t.writeAttribute("title",r),t.writeAttribute("type",e[r]),t.endElement();t.endElement()}}function v(t,e,n,r){var i,o,a,s,u,h,c,f,l,g=!Object.keys(n).length;for(t.startElement(e+"s"),f=0,l=r.length;f<l;f++){if(u=(i=r[f]).attributes,h=i.viz,t.startElement(e),t.writeAttribute("id",i.key),"edge"===e&&((s=i.undirected?"undirected":"directed")!==t.defaultEdgeType&&t.writeAttribute("type",s),t.writeAttribute("source",i.source),t.writeAttribute("target",i.target),"weight"in i&&t.writeAttribute("weight",i.weight)),i.label&&t.writeAttribute("label",i.label),!g&&u){for(o in t.startElement("attvalues"),n)o in u&&(t.startElement("attvalue"),t.writeAttribute("for",o),t.writeAttribute("value",p(n[o],u[o])),t.endElement());t.endElement()}if(h){if(h.color){for(c in a=d(h.color),t.startElementNS("viz","color"),a)t.writeAttribute(c,a[c]);t.endElement()}"size"in h&&(t.startElementNS("viz","size"),t.writeAttribute("value",h.size),t.endElement()),("x"in h||"y"in h||"z"in h)&&(t.startElementNS("viz","position"),"x"in h&&t.writeAttribute("x",h.x),"y"in h&&t.writeAttribute("y",h.y),"z"in h&&t.writeAttribute("z",h.z),t.endElement()),h.shape&&(t.startElementNS("viz","shape"),t.writeAttribute("value",h.shape),t.endElement()),"thickness"in h&&(t.startElementNS("viz","thickness"),t.writeAttribute("value",h.thickness),t.endElement())}t.endElement()}t.endElement()}t.exports=function(t,e){if(!r(t))throw new Error("graphology-gexf/writer: invalid graphology instance.");var n=!1!==(e=e||{}).pretty&&"  ",a=new i(n);a.startDocument("1.0",e.encoding||o),a.startElement("gexf"),a.writeAttribute("version","1.2"),a.writeAttribute("xmlns","http://www.gexf.net/1.2draft"),a.writeAttribute("xmlns:viz","http:///www.gexf.net/1.1draft/viz"),a.startElement("meta");var s=t.getAttributes();for(var u in s.lastModifiedDate&&a.writeAttribute("lastmodifieddate",s.lastModifiedDate),s)"lastModifiedDate"!==u&&a.writeElement(u,s[u]);a.endElement(),a.startElement("graph"),a.defaultEdgeType="mixed"===t.type?"directed":t.type,a.writeAttribute("defaultedgetype",a.defaultEdgeType);var d=function(t,e){for(var n,r=t.nodes(),i=0,o=r.length;i<o;i++)(n=e(t.getNodeAttributes(r[i]))).key=r[i],r[i]=n;return r}(t,c),h=function(t,e){for(var n,r=t.edges(),i=0,o=r.length;i<o;i++)(n=e(t.getEdgeAttributes(r[i]))).key=r[i],n.source=t.source(r[i]),n.target=t.target(r[i]),n.undirected=t.undirected(r[i]),r[i]=n;return r}(t,f),l=g(d);y(a,l,"node");var p=g(h);return y(a,p,"edge"),v(a,"node",l,d),v(a,"edge",p,h),a.toString()}},function(t,e,n){t.exports=n(235)},function(t,e){function n(t){return"number"!=typeof t&&!t}function r(t){if("string"==typeof t)return t;if("number"==typeof t)return t+"";if("function"==typeof t)return t();if(t instanceof i)return t.toString();throw Error("Bad Parameter")}function i(t,e){if(!(this instanceof i))return new i;this.name_regex=/[_:A-Za-z][-._:A-Za-z0-9]*/,this.indent=!!t,this.indentString=this.indent&&"string"==typeof t?t:"    ",this.output="",this.stack=[],this.tags=0,this.attributes=0,this.attribute=0,this.texts=0,this.comment=0,this.dtd=0,this.root="",this.pi=0,this.cdata=0,this.started_write=!1,this.writer,this.writer_encoding="UTF-8",this.writer="function"==typeof e?e:function(t,e){this.output+=t}}i.prototype={toString:function(){return this.flush(),this.output},indenter:function(){if(this.indent){this.write("\n");for(var t=1;t<this.tags;t++)this.write(this.indentString)}},write:function(){for(var t=0;t<arguments.length;t++)this.writer(arguments[t],this.writer_encoding)},flush:function(){for(var t=this.tags;t>0;t--)this.endElement();this.tags=0},startDocument:function(t,e,n){return this.tags||this.attributes?this:(this.startPI("xml"),this.startAttribute("version"),this.text("string"==typeof t?t:"1.0"),this.endAttribute(),"string"==typeof e&&(this.startAttribute("encoding"),this.text(e),this.endAttribute(),this.writer_encoding=e),n&&(this.startAttribute("standalone"),this.text("yes"),this.endAttribute()),this.endPI(),this.indent||this.write("\n"),this)},endDocument:function(){return this.attributes&&this.endAttributes(),this},writeElement:function(t,e){return this.startElement(t).text(e).endElement()},writeElementNS:function(t,e,n,r){return r||(r=n),this.startElementNS(t,e,n).text(r).endElement()},startElement:function(t){if(!(t=r(t)).match(this.name_regex))throw Error("Invalid Parameter");if(0===this.tags&&this.root&&this.root!==t)throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:t,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",t),this.startAttributes(),this.started_write=!0,this},startElementNS:function(t,e,n){if(t=r(t),e=r(e),!t.match(this.name_regex))throw Error("Invalid Parameter");if(!e.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:t+":"+e,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",t+":"+e),this.startAttributes(),this.started_write=!0,this},endElement:function(){if(!this.tags)return this;var t=this.stack.pop();return this.attributes>0?(this.attribute&&(this.texts&&this.endAttribute(),this.endAttribute()),this.write("/"),this.endAttributes()):(t.containsTag&&this.indenter(),this.write("</",t.name,">")),--this.tags,this.texts=0,this},writeAttribute:function(t,e){return"function"==typeof e&&(e=e()),n(e)?this:this.startAttribute(t).text(e).endAttribute()},writeAttributeNS:function(t,e,r,i){return i||(i=r),"function"==typeof i&&(i=i()),n(i)?this:this.startAttributeNS(t,e,r).text(i).endAttribute()},startAttributes:function(){return this.attributes=1,this},endAttributes:function(){return this.attributes?(this.attribute&&this.endAttribute(),this.attributes=0,this.attribute=0,this.texts=0,this.write(">"),this):this},startAttribute:function(t){if(!(t=r(t)).match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?this.attribute?this:(this.attribute=1,this.write(" ",t,'="'),this):this},startAttributeNS:function(t,e,n){if(t=r(t),e=r(e),!t.match(this.name_regex))throw Error("Invalid Parameter");if(!e.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?this.attribute?this:(this.attribute=1,this.write(" ",t+":"+e,'="'),this):this},endAttribute:function(){return this.attribute?(this.attribute=0,this.texts=0,this.write('"'),this):this},text:function(t){return t=r(t),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),this.comment||this.cdata?this.write(t):this.write(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),++this.texts,this.started_write=!0,this):this},writeComment:function(t){return this.startComment().text(t).endComment()},startComment:function(){return this.comment?this:(this.attributes&&this.endAttributes(),this.indenter(),this.write("\x3c!--"),this.comment=1,this.started_write=!0,this)},endComment:function(){return this.comment?(this.write("--\x3e"),this.comment=0,this):this},writeDocType:function(t,e,n,r){return this.startDocType(t,e,n,r).endDocType()},startDocType:function(t,e,n,i){if(this.dtd||this.tags)return this;if(t=r(t),e=e?r(e):e,n=n?r(n):n,i=i?r(i):i,!t.match(this.name_regex))throw Error("Invalid Parameter");if(e&&!e.match(/^[\w\-][\w\s\-\/\+\:\.]*/))throw Error("Invalid Parameter");if(n&&!n.match(/^[\w\.][\w\-\/\\\:\.]*/))throw Error("Invalid Parameter");if(i&&!i.match(/[\w\s\<\>\+\.\!\#\-\?\*\,\(\)\|]*/))throw Error("Invalid Parameter");return e=e?' PUBLIC "'+e+'"':n?" SYSTEM":"",n=n?' "'+n+'"':"",i=i?" ["+i+"]":"",this.started_write&&this.indenter(),this.write("<!DOCTYPE ",t,e,n,i),this.root=t,this.dtd=1,this.started_write=!0,this},endDocType:function(){return this.dtd?(this.write(">"),this):this},writePI:function(t,e){return this.startPI(t).text(e).endPI()},startPI:function(t){if(!(t=r(t)).match(this.name_regex))throw Error("Invalid Parameter");return this.pi?this:(this.attributes&&this.endAttributes(),this.started_write&&this.indenter(),this.write("<?",t),this.pi=1,this.started_write=!0,this)},endPI:function(){return this.pi?(this.write("?>"),this.pi=0,this):this},writeCData:function(t){return this.startCData().text(t).endCData()},startCData:function(){return this.cdata?this:(this.attributes&&this.endAttributes(),this.indenter(),this.write("<![CDATA["),this.cdata=1,this.started_write=!0,this)},endCData:function(){return this.cdata?(this.write("]]>"),this.cdata=0,this):this},writeRaw:function(t){return t=r(t),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(t.replace("&","&amp;").replace('"',"&quot;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),++this.texts,this.write(t),this.started_write=!0,this):this}},t.exports=i},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(237),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(32))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){h(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&h(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){h(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){h(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(h,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=d}function d(t){delete o[t]}function h(t){if(a)setTimeout(h,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{d(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(32),n(238))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,d=[],h=!1,c=-1;function f(){h&&u&&(h=!1,u.length?d=u.concat(d):c=-1,d.length&&l())}function l(){if(!h){var t=s(f);h=!0;for(var e=d.length;e;){for(u=d,d=[];++c<e;)u&&u[c].run();c=-1,e=d.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new p(t,e)),1!==d.length||h||s(l)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=n(42),i=n.n(r),o=n(70),a=n.n(o),s=n(8);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,h(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,s["EventEmitter"]),e}(),l=n(5),p=n(71),g=n.n(p);function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=4,b=5,m=0,w=1,E=2,_=3,x=1,N=2,D=3,O=4;function M(t,e,n,r,i,o,a){return t<r+o&&t+n>r&&e<i+a&&e+n>i}function A(t,e,n,r,i,o,a,s){return t<i+a&&t+n>i&&e<o+s&&e+r>o}function G(t,e,n,r,i,o){var a=t<n+i/2;return e<r+o/2?a?x:N:a?D:O}var S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{};var n=Math.pow(4,b);this.data=new Float32Array(v*((4*n-1)/3)),this.containers={},this.cache=null,this.lastRectangle=null,e.boundaries?this.resize(e.boundaries):this.resize({x:0,y:0,width:1,height:1}),"function"==typeof e.filter&&(this.nodeFilter=e.filter)}return function(t,e,n){e&&y(t.prototype,e),n&&y(t,n)}(t,[{key:"add",value:function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s=i-a,u=o-a,d=2*a,h=0,c=0;;){if(h>=t)return n[c]=n[c]||[],void n[c].push(r);var f=4*c+v,l=4*c+2*v,p=4*c+3*v,g=4*c+4*v,y=M(s,u,d,e[f+m],e[f+w],e[f+E],e[f+_]),b=M(s,u,d,e[l+m],e[l+w],e[l+E],e[l+_]),x=M(s,u,d,e[p+m],e[p+w],e[p+E],e[p+_]),N=M(s,u,d,e[g+m],e[g+w],e[g+E],e[g+_]),D=y+b+x+N;if(0===D)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(h,", key: ").concat(r,", x: ").concat(i,", y: ").concat(o,", size: ").concat(a,")."));if(3===D)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(h,", key: ").concat(r,", x: ").concat(i,", y: ").concat(o,", size: ").concat(a,")."));if(D>1)return n[c]=n[c]||[],void n[c].push(r);h++,y&&(c=f),b&&(c=l),x&&(c=p),N&&(c=g)}}(b,this.data,this.containers,t,e,n,r),this}},{key:"resize",value:function(t){this.clear(),this.data[m]=t.x,this.data[w]=t.y,this.data[E]=t.width,this.data[_]=t.height,function(t,e){for(var n=[0,0];n.length;){var r=n.pop(),i=n.pop(),o=4*i+v,a=4*i+2*v,s=4*i+3*v,u=4*i+4*v,d=e[i+m],h=e[i+w],c=e[i+E]/2,f=e[i+_]/2;e[o+m]=d,e[o+w]=h,e[o+E]=c,e[o+_]=f,e[a+m]=d+c,e[a+w]=h,e[a+E]=c,e[a+_]=f,e[s+m]=d,e[s+w]=h+f,e[s+E]=c,e[s+_]=f,e[u+m]=d+c,e[u+w]=h+f,e[u+E]=c,e[u+_]=f,r<t-1&&(n.push(u,r+1),n.push(s,r+1),n.push(a,r+1),n.push(o,r+1))}}(b,this.data)}},{key:"clear",value:function(){return this.containers={},this}},{key:"point",value:function(t,e){var n=[],r=0,i=0;do{this.containers[r]&&n.push.apply(n,this.containers[r]),r=4*r+G(t,e,this.data[r+m],this.data[r+w],this.data[r+E],this.data[r+_])*v,i++}while(i<=b);return n}},{key:"rectangle",value:function(t,e,n,r,i){var o=this.lastRectangle;if(o&&t===o.x1&&n===o.x2&&e===o.y1&&r===o.y2&&i===o.height)return this.cache;if(this.lastRectangle={x1:t,y1:e,x2:n,y2:r,height:i},!function(t,e,n,r){return t===n||e===r}(t,e,n,r))throw new Error("sigma/quadtree.rectangle: shifted view is not yet implemented.");var a=function(t,e,n,r,i,o,a){for(var s,u=[0,0],d=[];u.length;){var h=u.pop(),c=u.pop();if((s=n[c])&&g()(d,s),!(h>=t)){var f=4*c+v,l=4*c+2*v,p=4*c+3*v,y=4*c+4*v,b=A(r,i,o,a,e[f+m],e[f+w],e[f+E],e[f+_]),x=A(r,i,o,a,e[l+m],e[l+w],e[l+E],e[l+_]),N=A(r,i,o,a,e[p+m],e[p+w],e[p+E],e[p+_]),D=A(r,i,o,a,e[y+m],e[y+w],e[y+E],e[y+_]);b&&u.push(f,h+1),x&&u.push(l,h+1),N&&u.push(p,h+1),D&&u.push(y,h+1)}}return d}(b,this.data,this.containers,t,e,Math.abs(t-n)||Math.abs(e-r),i);return this.cache=a,this.cache}}]),t}(),R=n(27),I=n(25),k=n(1),T=n.n(k);function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,n){return e&&P(t.prototype,e),n&&P(t,n),t}var z=function(){function t(e,n){j(this,t),this.index=e,this.x=0,this.y=0,this.size=2,this.color=n.defaultNodeColor,this.hidden=!1,this.label=""}return L(t,[{key:"assign",value:function(t){"x"in t&&(this.x=t.x),"y"in t&&(this.y=t.y),"size"in t&&(this.size=t.size),"color"in t&&(this.color=t.color),"hidden"in t&&(this.hidden=t.hidden),"label"in t&&(this.label=t.label)}}]),t}(),C=function(){function t(e,n){j(this,t),this.index=e,this.size=1,this.color=n.defaultEdgeColor,this.hidden=!1}return L(t,[{key:"assign",value:function(t){"size"in t&&(this.size=t.size),"color"in t&&(this.color=t.color),"hidden"in t&&(this.hidden=t.hidden)}}]),t}();function F(t,e,n){var r="VERTEX"===t?e.VERTEX_SHADER:e.FRAGMENT_SHADER,i=e.createShader(r);if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(i);throw e.deleteShader(i),new Error("sigma/renderers/webgl/shaders/utils.loadShader: error while compiling the shader:\n".concat(o,"\n").concat(n))}return i}var U=F.bind(null,"VERTEX"),X=F.bind(null,"FRAGMENT");function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e,n){return e&&q(t.prototype,e),n&&q(t,n),t}var H=function(){function t(e,n,r){Y(this,t),this.vertexShaderSource=n,this.fragmentShaderSource=r,this.load(e)}return B(t,[{key:"load",value:function(t){return this.vertexShader=U(t,this.vertexShaderSource),this.fragmentShader=X(t,this.fragmentShaderSource),this.program=function(t,e){var n,r,i=t.createProgram();for(n=0,r=e.length;n<r;n++)t.attachShader(i,e[n]);if(t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw t.deleteProgram(i),new Error("sigma/renderers/webgl/shaders/utils.loadProgram: error while linking the program.");return i}(t,[this.vertexShader,this.fragmentShader]),this.program}}]),t}();function W(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function V(t,e,n){return t[0]=e,t[4]=arguments.length>2?n:e,t}function K(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],d=t[7],h=t[8],c=e[0],f=e[1],l=e[2],p=e[3],g=e[4],y=e[5],v=e[6],b=e[7],m=e[8];return t[0]=c*n+f*o+l*u,t[1]=c*r+f*a+l*d,t[2]=c*i+f*s+l*h,t[3]=p*n+g*o+y*u,t[4]=p*r+g*a+y*d,t[5]=p*i+g*s+y*h,t[6]=v*n+b*o+m*u,t[7]=v*r+b*a+m*d,t[8]=v*i+b*s+m*h,t}var Z={},$=new Int8Array(4),J=new Int32Array($.buffer,0,1),Q=new Float32Array($.buffer,0,1),tt=/^\s*rgba?\s*\(/,et=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function nt(t){if(void 0!==Z[t])return Z[t];var e=0,n=0,r=0,i=1;if("#"===t[0])4===t.length?(e=parseInt(t.charAt(1)+t.charAt(1),16),n=parseInt(t.charAt(2)+t.charAt(2),16),r=parseInt(t.charAt(3)+t.charAt(3),16)):(e=parseInt(t.charAt(1)+t.charAt(2),16),n=parseInt(t.charAt(3)+t.charAt(4),16),r=parseInt(t.charAt(5)+t.charAt(6),16));else if(tt.test(t)){var o=t.match(et);e=+o[1],n=+o[2],r=+o[3],o[4]&&(i=+o[4])}var a=4278190079&((i=255*i|0)<<24|r<<16|n<<8|e);J[0]=a;var s=Q[0];return Z[t]=s,s}function rt(t,e){var n=t.angle,r=t.ratio,i=t.x,o=t.y,a=e.width,s=e.height,u=W(),d=Math.min(a,s),h=function(t,e,n){return t[6]=e,t[7]=n,t}(W(),-i,-o),c=V(W(),1/r),f=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[3]=-n,t[4]=r,t}(W(),-n);return K(u,V(W(),d/a*2,d/s*2)),K(u,f),K(u,c),K(u,h),u}var it=n(73),ot=n.n(it),at=n(74),st=n.n(at);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=4,pt=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ht(this,ct(e).call(this,t,ot.a,st.a))).gl=t,n.array=null,n.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,n.buffer);var r=n.program;return n.positionLocation=t.getAttribLocation(r,"a_position"),n.sizeLocation=t.getAttribLocation(r,"a_size"),n.colorLocation=t.getAttribLocation(r,"a_color"),n.matrixLocation=t.getUniformLocation(r,"u_matrix"),n.ratioLocation=t.getUniformLocation(r,"u_ratio"),n.scaleLocation=t.getUniformLocation(r,"u_scale"),t.enableVertexAttribArray(n.positionLocation),t.enableVertexAttribArray(n.sizeLocation),t.enableVertexAttribArray(n.colorLocation),t.vertexAttribPointer(n.positionLocation,2,t.FLOAT,!1,lt*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(n.sizeLocation,1,t.FLOAT,!1,lt*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(n.colorLocation,4,t.UNSIGNED_BYTE,!0,lt*Float32Array.BYTES_PER_ELEMENT,12),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,H),function(t,e,n){e&&dt(t.prototype,e),n&&dt(t,n)}(e,[{key:"allocate",value:function(t){this.array=new Float32Array(1*lt*t)}},{key:"process",value:function(t,e){var n=nt(t.color),r=1*e*lt,i=this.array;if(t.hidden)return i[r++]=0,i[r++]=0,i[r++]=0,void(i[r++]=0);i[r++]=t.x,i[r++]=t.y,i[r++]=t.size,i[r]=n}},{key:"bufferData",value:function(){var t=this.gl;t.bufferData(t.ARRAY_BUFFER,this.array,t.DYNAMIC_DRAW)}},{key:"render",value:function(t){var e=this.gl,n=this.program;e.useProgram(n),e.uniform1f(this.ratioLocation,1/Math.pow(t.ratio,t.nodesPowRatio)),e.uniform1f(this.scaleLocation,t.scalingRatio),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.drawArrays(e.POINTS,0,this.array.length/lt)}}]),e}(),gt=n(75),yt=n.n(gt),vt=n(76),bt=n.n(vt);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Et(this,_t(e).call(this,t,yt.a,bt.a))).gl=t,n.array=null,n.indicesArray=null,n.buffer=t.createBuffer(),n.indicesBuffer=t.createBuffer(),n.positionLocation=t.getAttribLocation(n.program,"a_position"),n.normalLocation=t.getAttribLocation(n.program,"a_normal"),n.thicknessLocation=t.getAttribLocation(n.program,"a_thickness"),n.colorLocation=t.getAttribLocation(n.program,"a_color"),n.resolutionLocation=t.getUniformLocation(n.program,"u_resolution"),n.ratioLocation=t.getUniformLocation(n.program,"u_ratio"),n.matrixLocation=t.getUniformLocation(n.program,"u_matrix"),n.scaleLocation=t.getUniformLocation(n.program,"u_scale"),n.bind(),n.canUse32BitsIndices=function(t){return"undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint")}(t),n.IndicesArray=n.canUse32BitsIndices?Uint32Array:Uint16Array,n.indicesType=n.canUse32BitsIndices?t.UNSIGNED_INT:t.UNSIGNED_SHORT,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,H),function(t,e,n){e&&wt(t.prototype,e),n&&wt(t,n)}(e,[{key:"bind",value:function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.enableVertexAttribArray(this.positionLocation),t.enableVertexAttribArray(this.normalLocation),t.enableVertexAttribArray(this.thicknessLocation),t.enableVertexAttribArray(this.colorLocation),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.normalLocation,2,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(this.thicknessLocation,1,t.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(this.colorLocation,4,t.UNSIGNED_BYTE,!0,6*Float32Array.BYTES_PER_ELEMENT,20)}},{key:"allocate",value:function(t){this.array=new Float32Array(24*t)}},{key:"process",value:function(t,e,n,r){if(t.hidden||e.hidden||n.hidden)for(var i=24*r,o=i+24;i<o;i++)this.array[i]=0;else{var a=n.size||1,s=t.x,u=t.y,d=e.x,h=e.y,c=nt(n.color),f=d-s,l=h-u,p=f*f+l*l,g=0,y=0;p&&(g=-l*(p=1/Math.sqrt(p)),y=f*p);var v=24*r,b=this.array;b[v++]=s,b[v++]=u,b[v++]=g,b[v++]=y,b[v++]=a,b[v++]=c,b[v++]=s,b[v++]=u,b[v++]=-g,b[v++]=-y,b[v++]=a,b[v++]=c,b[v++]=d,b[v++]=h,b[v++]=g,b[v++]=y,b[v++]=a,b[v++]=c,b[v++]=d,b[v++]=h,b[v++]=-g,b[v++]=-y,b[v++]=a,b[v]=c}}},{key:"computeIndices",value:function(){for(var t=this.array.length/6,e=t+t/2,n=new this.IndicesArray(e),r=0,i=0;r<t;r+=4)n[i++]=r,n[i++]=r+1,n[i++]=r+2,n[i++]=r+2,n[i++]=r+1,n[i++]=r+3;this.indicesArray=n}},{key:"bufferData",value:function(){var t=this.gl;t.bufferData(t.ARRAY_BUFFER,this.array,t.DYNAMIC_DRAW),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indicesArray,t.STATIC_DRAW)}},{key:"render",value:function(t){var e=this.gl,n=this.program;e.useProgram(n),e.uniform2f(this.resolutionLocation,t.width,t.height),e.uniform1f(this.ratioLocation,t.ratio),e.uniformMatrix3fv(this.matrixLocation,!1,t.matrix),e.uniform1f(this.scaleLocation,t.scalingRatio),e.drawElements(e.TRIANGLES,this.indicesArray.length,this.indicesType,0)}}]),e}();function Dt(t,e,n){var r=n.labelSize,i=n.labelFont,o=n.labelWeight;t.fillStyle="#000",t.font="".concat(o," ").concat(r,"px ").concat(i),t.fillText(e.label,e.x+e.size+3,e.y+r/3)}var Ot=2*Math.PI;function Mt(t,e,n){var r=n.labelSize,i=n.labelFont,o=n.labelWeight;t.font="".concat(o," ").concat(r,"px ").concat(i),t.beginPath(),t.fillStyle="#fff",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=8,t.shadowColor="#000";var a=t.measureText(e.label).width,s=Math.round(e.x-r/2-2),u=Math.round(e.y-r/2-2),d=Math.round(a+r/2+e.size+9),h=Math.round(r+4),c=Math.round(r/2+2);t.moveTo(s,u+c),t.moveTo(s,u+c),t.arcTo(s,u,s+c,u,c),t.lineTo(s+d,u),t.lineTo(s+d,u+h),t.lineTo(s+c,u+h),t.arcTo(s,u+h,s,u+h-c,c),t.lineTo(s,u+c),t.closePath(),t.fill(),t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,function(t,e){t.fillStyle=e.color,t.beginPath(),t.arc(e.x,e.y,e.size,0,Ot,!0),t.closePath(),t.fill()}(t,e),Dt(t,e,n)}var At=n(26),Gt=n(9),St={width:250,height:175},Rt={width:400,height:300};function It(t,e,n,r,i,o,a,s){return t<i+a&&t+n>i&&e<o+s&&e+r>o}function kt(t,e,n){return n.sort(function(t,n){var r=e(t)||0,i=e(n)||0;return r<i?-1:r>i?1:0})}function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pt(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ct=Object(Gt.c)(),Ft=Object(Gt.c)(),Ut={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,defaultNodeColor:"#999",defaultEdgeColor:"#ccc",labelFont:"Arial",labelSize:14,labelWeight:"normal",nodeReducer:null,edgeReducer:null,zIndex:!1},Xt=function(t){function e(t,n,r){var i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=Pt(this,Lt(e).call(this)),r=r||{},i.settings=Object(At.a)({},Ut,r),!T()(t))throw new Error("sigma/renderers/webgl: invalid graph instance.");if(!(n instanceof HTMLElement))throw new Error("sigma/renderers/webgl: container should be an html element.");i.graph=t,i.captors={},i.container=n,i.elements={},i.contexts={},i.listeners={},i.quadtree=new S,i.nodeDataCache={},i.edgeDataCache={},i.nodeExtent=null,i.edgeExtent=null,i.initializeCache(),i.normalizationFunction=null,i.width=0,i.height=0,i.highlightedNodes=new Set,i.displayedLabels=new Set,i.hoveredNode=null,i.wasRenderedInThisFrame=!1,i.renderFrame=null,i.renderHighlightedNodesFrame=null,i.needToProcess=!1,i.needToSoftProcess=!1,i.createContext("edges"),i.createContext("nodes"),i.createContext("labels",!1),i.createContext("hovers",!1),i.createContext("mouse",!1);var o=i.contexts.nodes;return o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enable(o.BLEND),(o=i.contexts.edges).blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enable(o.BLEND),i.nodePrograms={def:new pt(i.contexts.nodes)},i.edgePrograms={def:new Nt(i.contexts.edges)},i.resize(),i.camera=new l.a({width:i.width,height:i.height}),i.bindCameraHandlers(),i.captors={mouse:new R.a(i.elements.mouse,i.camera)},i.bindEventHandlers(),i.bindGraphHandlers(),i.process(),i.render(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(e,f),function(t,e,n){e&&jt(t.prototype,e),n&&jt(t,n)}(e,[{key:"createContext",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(Gt.a)("canvas",{class:"sigma-".concat(t),style:{position:"absolute"}});this.elements[t]=n,this.container.appendChild(n);var r,i={preserveDrawingBuffer:!1,antialias:!1};return e?((r=n.getContext("webgl2",i))||(r=n.getContext("webgl",i)),r||(r=n.getContext("experimental-webgl",i))):r=n.getContext("2d",i),this.contexts[t]=r,this}},{key:"initializeCache",value:function(){for(var t=this.graph,e=t.nodes(),n=0,r=e.length;n<r;n++)this.nodeDataCache[e[n]]=new z(n,this.settings);for(var i=t.edges(),o=0,a=i.length;o<a;o++)this.edgeDataCache[i[o]]=new C(o,this.settings)}},{key:"bindCameraHandlers",value:function(){var t=this;return this.listeners.camera=function(){t.scheduleRender()},this.camera.on("updated",this.listeners.camera),this}},{key:"bindEventHandlers",value:function(){var t=this;this.listeners.handleResize=function(){t.needToSoftProcess=!0,t.scheduleRender()},window.addEventListener("resize",this.listeners.handleResize);var e=function(t,e,n,r,i){return t>n-i&&t<n+i&&e>r-i&&e<r+i&&Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))<i},n=function(e,n){var r=t.camera.viewportToGraph(t,e,n);return t.quadtree.point(r.x,1-r.y)};return this.listeners.handleMove=function(r){for(var i=Math.pow(t.camera.getState().ratio,.5),o=n(r.x,r.y),a=1/0,s=null,u=0,d=o.length;u<d;u++){var h=o[u],c=t.nodeDataCache[h],f=t.camera.graphToViewport(t,c.x,c.y),l=c.size/i;if(e(r.x,r.y,f.x,f.y,l)){var p=Math.sqrt(Math.pow(r.x-f.x,2)+Math.pow(r.y-f.y,2));p<a&&(a=p,s=h)}}if(s&&t.hoveredNode!==s)return t.hoveredNode=s,t.emit("enterNode",{node:s}),t.scheduleHighlightedNodesRender();if(t.hoveredNode){var g=t.nodeDataCache[t.hoveredNode],y=t.camera.graphToViewport(t,g.x,g.y),v=g.size/i;if(!e(r.x,r.y,y.x,y.y,v)){var b=t.hoveredNode;return t.hoveredNode=null,t.emit("leaveNode",{node:b}),t.scheduleHighlightedNodesRender()}}},this.listeners.handleClick=function(r){for(var i=Math.pow(t.camera.getState().ratio,.5),o=n(r.x,r.y),a=0,s=o.length;a<s;a++){var u=o[a],d=t.nodeDataCache[u],h=t.camera.graphToViewport(t,d.x,d.y),c=d.size/i;if(e(r.x,r.y,h.x,h.y,c))return t.emit("clickNode",{node:u})}return t.emit("clickStage")},this.captors.mouse.on("mousemove",this.listeners.handleMove),this.captors.mouse.on("click",this.listeners.handleClick),this}},{key:"bindGraphHandlers",value:function(){var t=this,e=this.graph;return this.listeners.graphUpdate=function(){t.needToProcess=!0,t.scheduleRender()},this.listeners.softGraphUpdate=function(){t.needToSoftProcess=!0,t.scheduleRender()},this.listeners.addNodeGraphUpdate=function(n){t.nodeDataCache[n.key]=new z(e.order-1,t.settings),t.listeners.graphUpdate()},this.listeners.addEdgeGraphUpdate=function(n){t.edgeDataCache[n.key]=new C(e.size-1,t.settings),t.listeners.graphUpdate()},e.on("nodeAdded",this.listeners.addNodeGraphUpdate),e.on("nodeDropped",this.listeners.graphUpdate),e.on("nodeAttributesUpdated",this.listeners.softGraphUpdate),e.on("edgeAdded",this.listeners.addEdgeGraphUpdate),e.on("nodeDropped",this.listeners.graphUpdate),e.on("edgeAttributesUpdated",this.listeners.softGraphUpdate),e.on("cleared",this.listeners.graphUpdate),this}},{key:"process",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.graph,n=this.settings;this.quadtree.clear();var r=["x","y"];this.settings.zIndex&&(r.push("z"),this.edgeExtent=Object(I.edgeExtent)(e,["z"])),this.nodeExtent=Object(I.nodeExtent)(e,r),this.normalizationFunction=Object(Gt.b)(this.nodeExtent);var i=this.nodePrograms.def;t||i.allocate(e.order);var o=e.nodes();this.settings.zIndex&&(o=kt(this.edgeExtent.z,function(t){return e.getNodeAttribute(t,"z")},o));for(var a=0,s=o.length;a<s;a++){var u=o[a],d=e.getNodeAttributes(u),h=this.nodeDataCache[u];n.nodeReducer&&(d=n.nodeReducer(u,d)),h.assign(d),this.normalizationFunction.applyTo(h),this.quadtree.add(u,h.x,1-h.y,h.size/this.width),i.process(h,a),h.index=a}i.bufferData();var c=this.edgePrograms.def;t||c.allocate(e.size);var f=e.edges();this.settings.zIndex&&(f=kt(this.edgeExtent.z,function(t){return e.getEdgeAttribute(t,"z")},f));for(var l=0,p=f.length;l<p;l++){var g=f[l],y=e.getEdgeAttributes(g),v=this.edgeDataCache[g];n.edgeReducer&&(y=n.edgeReducer(g,y)),v.assign(y);var b=e.extremities(g),m=this.nodeDataCache[b[0]],w=this.nodeDataCache[b[1]];c.process(m,w,v,l),v.index=l}return t||"function"!=typeof c.computeIndices||c.computeIndices(),c.bufferData(),this}},{key:"processNode",value:function(t){var e=this.nodePrograms.def,n=this.graph.getNodeAttributes(t);return e.process(n,this.nodeDataCache[t].index),this}},{key:"processEdge",value:function(t){var e=this.graph,n=this.edgePrograms.def,r=e.getEdgeAttributes(t),i=e.extremities(t),o=e.getNodeAttributes(i[0]),a=e.getNodeAttributes(i[1]);return n.process(o,a,r,this.edgeDataCache[t].index),this}},{key:"getCamera",value:function(){return this.camera}},{key:"getMouseCaptor",value:function(){return this.captors.mouse}},{key:"resize",value:function(t,e){var n=this.width,r=this.height;if(arguments.length>1?(this.width=t,this.height=e):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight),0===this.width)throw new Error("sigma/renderers/webgl: container has no width.");if(0===this.height)throw new Error("sigma/renderers/webgl: container has no height.");if(n===this.width&&r===this.height)return this;for(var i in this.elements){var o=this.elements[i];o.style.width=this.width+"px",o.style.height=this.height+"px"}for(var a in this.contexts){var s=this.contexts[a];s.scale?(this.elements[a].setAttribute("width",this.width*Ct+"px"),this.elements[a].setAttribute("height",this.height*Ct+"px"),1!==Ct&&s.scale(Ct,Ct)):(this.elements[a].setAttribute("width",this.width*Ft+"px"),this.elements[a].setAttribute("height",this.height*Ft+"px")),s.viewport&&s.viewport(0,0,this.width*Ft,this.height*Ft)}return this}},{key:"clear",value:function(){return this.contexts.labels.clearRect(0,0,this.width,this.height),this}},{key:"render",value:function(){if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),!this.graph.order)return this;var t=this.camera.isAnimated()||this.captors.mouse.isMoving||this.captors.mouse.hasDragged||this.captors.mouse.wheelLock;this.resize(),this.clear();var e,n=this.camera.getState(),r=rt(n,{width:this.width,height:this.height});if(this.nodePrograms.def.render({matrix:r,width:this.width,height:this.height,ratio:n.ratio,nodesPowRatio:.5,scalingRatio:Ft}),this.settings.hideEdgesOnMove&&t||this.edgePrograms.def.render({matrix:r,width:this.width,height:this.height,ratio:n.ratio,nodesPowRatio:.5,edgesPowRatio:.5,scalingRatio:Ft}),this.settings.hideLabelsOnMove&&t)return this;if(n.ratio>=1)e=this.graph.nodes();else{var i=this.camera.viewRectangle(this);e=this.quadtree.rectangle(i.x1,1-i.y1,i.x2,1-i.y2,i.height)}if(!this.settings.renderLabels)return this;for(var o=function(t){var e=t.cache,n=t.camera,r=t.displayedLabels,i=t.visibleNodes,o=t.dimensions,a=t.graph,s=n.getState(),u=n.getPreviousState(),d=new l.a;d.setState(u);var h=s.x===u.x&&s.y===u.y&&s.ratio===u.ratio,c=s.ratio<u.ratio,f=s.x!==u.x||s.y!==u.y,p=s.ratio>u.ratio,g=!c&&!p&&s.ratio>=1,y=f&&r.size&&!c&&!p;if(p&&Math.trunc(100*s.ratio)%5!=0)return Array.from(r);if((g||h)&&0!==r.size)return Array.from(r);if(c&&s.ratio>=1)return Array.from(r);for(var v=s.ratio>=1.3?Rt:St,b=o.width%v.width,m=v.width+b/Math.floor(o.width/v.width),w=o.height%v.height,E=v.height+w/Math.floor(o.height/v.height),_=o.width+m,x=o.height+E,N=-m,D=-E,O=o.width+m/2,M=o.height+E/2,A=-m/2,G=-E/2,S=[],R={},I=-1/0,k=null,T=0,j=i.length;T<j;T++){var P=i[T],L=e[P],z=n.graphToViewport(o,L.x,L.y);if(!(z.x<N||z.x>_||z.y<D||z.y>x)){if(L.size>I&&(I=L.size,k=P),y){var C=d.graphToViewport(o,L.x,L.y);if(C.x>=A&&C.x<=O&&C.y>=G&&C.y<=M&&!r.has(P))continue}var F=Math.floor(z.x/m),U=Math.floor(z.y/E),X="".concat(F,"§").concat(U);if(void 0===R[X])R[X]=P;else{var Y=R[X],q=e[Y];if(r.size>0){var B=r.has(P),H=r.has(Y);if(!B&&H)continue;if(B&&!H){R[X]=P;continue}if((y||c)&&B&&H){S.push(P);continue}}var W=!1;if(L.size>q.size)W=!0;else if(L.size===q.size){var V=a.degree(P),K=a.degree(Y);V>K?W=!0:V===K&&P>Y&&(W=!0)}W&&(R[X]=P)}}}var Z=S.some(function(t){return t===k});for(var $ in R){var J=R[$];J===k&&(Z=!0),S.push(J)}!Z&&k&&S.push(k);for(var Q=new Set,tt=0,et=S.length;tt<et;tt++){var nt=S[tt],rt=e[nt],it=n.graphToViewport(o,rt.x,rt.y);if(!Q.has(nt))for(var ot=tt+1;ot<et;ot++){var at=S[ot],st=e[at],ut=n.graphToViewport(o,st.x,st.y);It(it.x,it.y,8*rt.label.length,14,ut.x,ut.y,8*st.label.length,14)&&(rt.size<st.size?Q.add(nt):Q.add(at))}}return S.filter(function(t){return!Q.has(t)})}({cache:this.nodeDataCache,camera:this.camera,displayedLabels:this.displayedLabels,visibleNodes:e,dimensions:this,graph:this.graph}),a=this.contexts.labels,s=Math.pow(n.ratio,.5),u=0,d=o.length;u<d;u++){var h=this.nodeDataCache[o[u]],c=this.camera.graphToViewport(this,h.x,h.y),f=c.x,p=c.y,g=h.size/s;Dt(a,{label:h.label,size:g,x:f,y:p},this.settings)}return this.displayedLabels=new Set(o),this.renderHighlightedNodes(),this}},{key:"renderHighlightedNodes",value:function(){var t=this,e=this.camera,n=Math.pow(e.getState().ratio,.5),r=this.contexts.hovers;r.clearRect(0,0,this.width,this.height);var i=function(i){var o=t.nodeDataCache[i],a=e.graphToViewport(t,o.x,o.y),s=a.x,u=a.y,d=o.size/n;Mt(r,{label:o.label,color:o.color,size:d,x:s,y:u},t.settings)};this.hoveredNode&&i(this.hoveredNode),this.highlightedNodes.forEach(i)}},{key:"scheduleRender",value:function(){var t=this;if(this.renderFrame)return this;this.renderFrame=requestAnimationFrame(function(){t.needToProcess?t.process():t.needToSoftProcess&&t.process(!0),t.renderFrame=null,t.needToProcess=!1,t.needToSoftProcess=!1,t.render()})}},{key:"scheduleHighlightedNodesRender",value:function(){var t=this;if(this.renderHighlightedNodesFrame||this.renderFrame)return this;this.renderHighlightedNodesFrame=requestAnimationFrame(function(){t.renderHighlightedNodesFrame=null,t.renderHighlightedNodes()})}},{key:"refresh",value:function(){return this.needToSoftProcess=!0,this.scheduleRender(),this}},{key:"highlightNode",value:function(t){return this.highlightedNodes.add(t),this.scheduleHighlightedNodesRender(),this}},{key:"unhighlightNode",value:function(t){return this.highlightedNodes.delete(t),this.scheduleHighlightedNodesRender(),this}},{key:"kill",value:function(){var t=this.graph;this.camera.removeListener("updated",this.listeners.camera),window.removeEventListener("resize",this.listeners.handleResize),this.captors.mouse.kill(),t.removeListener("nodeAdded",this.listeners.addNodeGraphUpdate),t.removeListener("nodeDropped",this.listeners.graphUpdate),t.removeListener("nodeAttributesUpdated",this.listeners.softGraphUpdate),t.removeListener("edgeAdded",this.listeners.addEdgeGraphUpdate),t.removeListener("nodeDropped",this.listeners.graphUpdate),t.removeListener("edgeAttributesUpdated",this.listeners.softGraphUpdate),t.removeListener("cleared",this.listeners.graphUpdate),this.quadtree=null,this.nodeDataCache=null,this.edgeDataCache=null,this.highlightedNodes=null,this.previousVisibleNodes=null,this.displayedLabels=null,this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var e=this.container;e.firstChild;)e.removeChild(e.firstChild)}}]),e}(),Yt={Renderer:f,Camera:l.a,QuadTree:S,MouseCaptor:R.a,WebGLRenderer:Xt};i.a.library=a.a,window.sigma=Yt,window.graphology=i.a}]);